[{"path":"https://rush.mlr-org.com/dev/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 rush authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-workers","dir":"Articles","previous_headings":"","what":"Local Workers","title":"Controller","text":"use random search example Rush article demonstrate controller works. Workers may initiated locally remotely. Local workers run machine controller, whereas remote workers operate separate machines. $start_local_workers() method initiates local workers using processx package. n_workers parameter specifies number workers launch. worker_loop parameter defines function executed worker. worker_loop function depends additional objects, can passed arguments worker_loop. Required packages worker_loop can specified using packages parameter. Worker information accessible $worker_info method. worker identified worker_id. pid field denotes process identifier, hostname field indicates machine name. remote column specifies whether worker remote, heartbeat column indicates presence heartbeat process. state column indicates current state worker. Possible states include \"running\", \"terminated\", \"killed\", \"lost\". Heartbeat mechanisms discussed Error Handling section. Additional workers may added network time. rush integrated third-party package, starting workers typically managed package . cases, users may configure worker options invoking rush_plan() function. function allows explicit specification number workers, type workers, configuration connecting Redis database. Objects required worker loop can passed arguments $start_local_workers() / $start_remote_workers(). arguments serialized stored Redis database part worker configuration. Upon initialization, worker retrieves unserializes worker configuration invoking worker loop. Note maximum size Redis string 512 MiB. serialized worker configuration exceeds limit, Rush raise error. scenarios controller workers access shared file system, Rush instead write large objects disk. large_objects_path argument rush_plan() specifies directory used storing large objects. Workers can stopped individually . terminate specific worker, $stop_workers() method invoked corresponding worker_ids argument. command terminates selected worker process. stop workers reset network, $reset() method used. Instead killing worker processes, also possible send terminate signal worker. worker terminates finished current task. worker loop must implement rush$terminated flag. rush controller can terminate optimization. random search proceeds usual. terminate optimization, following command used. workers terminated. simulate segfault worker killing worker process. Workers started using faulty worker loop. $detect_lost_workers() method used identify failed workers. worker detected, state updated \"lost\". Workers record messages generated using lgr package database. lgr_thresholds argument $start_local_workers() specifies logging level logger, e.g. c(\"mlr3/rush\" = \"debug\"). enabling log message storage introduces minor performance overhead, valuable debugging purposes. default, log messages stored. enable logging, workers started desired logging threshold. recent log messages can printed follows. retrieve log entries, use $read_log() method. reset network.","code":"library(rush)  wl_random_search = function(rush, branin) {   while(TRUE) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } }  rush = rsh(   network = \"test-network\",   config = redux::redis_config())  branin = function(x1, x2) {   (x2 - 5.1 / (4 * pi^2) * x1^2 + 5 / pi * x1 - 6)^2 + 10 * (1 - 1 / (8 * pi)) * cos(x1) + 10 } worker_ids = rush$start_local_workers(   worker_loop = wl_random_search,   branin = branin,   n_workers = 2) rush$worker_info worker_id   pid      hostname heartbeat   state           <char> <int>        <char>    <lgcl>  <char> 1: subpentago...  9570 runnervmjd...     FALSE running 2: antidemocr...  9581 runnervmjd...     FALSE running rush$start_local_workers(   worker_loop = wl_random_search,   branin = branin,   n_workers = 2) rush$worker_info worker_id   pid      hostname heartbeat   state           <char> <int>        <char>    <lgcl>  <char> 1: subpentago...  9570 runnervmjd...     FALSE running 2: antidemocr...  9581 runnervmjd...     FALSE running 3: shadowed_w...  9643 runnervmjd...     FALSE running 4: dietetic_s...  9647 runnervmjd...     FALSE running rush_plan(n_workers = 2, config = redux::redis_config(), worker_type = \"local\") rush$stop_workers(worker_ids = worker_ids[1]) rush$worker_info worker_id   pid      hostname heartbeat      state           <char> <int>        <char>    <lgcl>     <char> 1: antidemocr...  9581 runnervmjd...     FALSE    running 2: shadowed_w...  9643 runnervmjd...     FALSE    running 3: dietetic_s...  9647 runnervmjd...     FALSE    running 4: subpentago...  9570 runnervmjd...     FALSE terminated rush$reset() wl_random_search = function(rush, branin) {   while(!rush$terminated) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } }  rush = rsh(   network = \"test-random-search-terminate\",   config = redux::redis_config())  rush$start_local_workers(   worker_loop = wl_random_search,   n_workers = 2,   branin = branin) rush$fetch_finished_tasks() worker_id        x1        x2          y             <char>     <num>     <num>      <num>   1: cainophobi... -1.446759  4.967859  24.184908   2: lax_mosasa... -3.082537  8.358510  14.665363   3: cainophobi... -4.970583  2.671470 220.710724   4: cainophobi...  8.596596  1.126222   4.052714   5: cainophobi...  6.643052  7.162193  55.396287  --- 508: cainophobi...  4.197123  8.353770  50.939042 509: cainophobi... -2.249488 14.485438  22.047853 510: lax_mosasa... -1.980607 12.993052  17.290090 511: cainophobi... -1.163884 10.543580  20.131560 512: lax_mosasa...  8.501033  6.753192  28.685855                                      keys                                    <list>   1: 1895409c-a3dd-47a5-b6ed-434f17a57d76   2: 72a53e0a-ad60-45f5-ae0d-393180c86b75   3: 79ab329d-2af7-4199-82e2-06cf7dfa5aad   4: a7f63f9e-20c7-45e7-a44a-35ebd031c5d0   5: b4c47818-7ed1-436d-9d60-ab7c9d65d6d7  --- 508: 4e3c5d1a-15c3-4bba-bda1-2f34f231302e 509: 51a867c6-f47d-4dea-9800-6f7d79bd93cd 510: 7a0953e8-1539-4b74-8fbf-e88964031eb8 511: 16190303-66aa-4343-a440-0676453eb45c 512: 34e11e35-16bd-4e17-80e9-3e17e61fae2b rush$stop_workers(type = \"terminate\") rush$worker_info worker_id   pid      hostname heartbeat      state           <char> <int>        <char>    <lgcl>     <char> 1: lax_mosasa...  9718 runnervmjd...     FALSE terminated 2: cainophobi...  9721 runnervmjd...     FALSE terminated rush = rsh(network = \"test-failed-workers\")  wl_failed_worker = function(rush) {   tools::pskill(Sys.getpid(), tools::SIGKILL) } worker_ids =  rush$start_local_workers(   worker_loop = wl_failed_worker,   n_workers = 2) rush$detect_lost_workers() [1] \"green_goose\"      \"contusioned_oryx\" rush$worker_info worker_id   pid      hostname heartbeat      state           <char> <int>        <char>    <lgcl>     <char> 1: green_goos...  9794 runnervmjd...     FALSE terminated 2: contusione...  9797 runnervmjd...     FALSE terminated rush = rsh(network = \"test-log-messages\")  wl_log_message = function(rush) {   lg = lgr::get_logger(\"mlr3/rush\")   lg$info(\"This is an info message from worker %s\", rush$worker_id) }  rush$start_local_workers(   worker_loop = wl_log_message,   n_workers = 2,   lgr_thresholds = c(rush = \"info\")) Sys.sleep(1) rush$print_log() rush$read_log() Null data.table (0 rows and 0 cols) rush$reset()"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-start-workers","dir":"Articles","previous_headings":"","what":"Start Workers","title":"Controller","text":"Workers may initiated locally remotely. Local workers run machine controller, whereas remote workers operate separate machines. $start_local_workers() method initiates local workers using processx package. n_workers parameter specifies number workers launch. worker_loop parameter defines function executed worker. worker_loop function depends additional objects, can passed arguments worker_loop. Required packages worker_loop can specified using packages parameter. Worker information accessible $worker_info method. worker identified worker_id. pid field denotes process identifier, hostname field indicates machine name. remote column specifies whether worker remote, heartbeat column indicates presence heartbeat process. state column indicates current state worker. Possible states include \"running\", \"terminated\", \"killed\", \"lost\". Heartbeat mechanisms discussed Error Handling section. Additional workers may added network time.","code":"worker_ids = rush$start_local_workers(   worker_loop = wl_random_search,   branin = branin,   n_workers = 2) rush$worker_info worker_id   pid      hostname heartbeat   state           <char> <int>        <char>    <lgcl>  <char> 1: subpentago...  9570 runnervmjd...     FALSE running 2: antidemocr...  9581 runnervmjd...     FALSE running rush$start_local_workers(   worker_loop = wl_random_search,   branin = branin,   n_workers = 2) rush$worker_info worker_id   pid      hostname heartbeat   state           <char> <int>        <char>    <lgcl>  <char> 1: subpentago...  9570 runnervmjd...     FALSE running 2: antidemocr...  9581 runnervmjd...     FALSE running 3: shadowed_w...  9643 runnervmjd...     FALSE running 4: dietetic_s...  9647 runnervmjd...     FALSE running"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-rush-plan","dir":"Articles","previous_headings":"","what":"Rush Plan","title":"Controller","text":"rush integrated third-party package, starting workers typically managed package . cases, users may configure worker options invoking rush_plan() function. function allows explicit specification number workers, type workers, configuration connecting Redis database.","code":"rush_plan(n_workers = 2, config = redux::redis_config(), worker_type = \"local\")"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-globals","dir":"Articles","previous_headings":"","what":"Passing data to workers","title":"Controller","text":"Objects required worker loop can passed arguments $start_local_workers() / $start_remote_workers(). arguments serialized stored Redis database part worker configuration. Upon initialization, worker retrieves unserializes worker configuration invoking worker loop. Note maximum size Redis string 512 MiB. serialized worker configuration exceeds limit, Rush raise error. scenarios controller workers access shared file system, Rush instead write large objects disk. large_objects_path argument rush_plan() specifies directory used storing large objects.","code":""},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-stop-worker","dir":"Articles","previous_headings":"","what":"Stop Worker","title":"Controller","text":"Workers can stopped individually . terminate specific worker, $stop_workers() method invoked corresponding worker_ids argument. command terminates selected worker process. stop workers reset network, $reset() method used. Instead killing worker processes, also possible send terminate signal worker. worker terminates finished current task. worker loop must implement rush$terminated flag. rush controller can terminate optimization. random search proceeds usual. terminate optimization, following command used. workers terminated.","code":"rush$stop_workers(worker_ids = worker_ids[1]) rush$worker_info worker_id   pid      hostname heartbeat      state           <char> <int>        <char>    <lgcl>     <char> 1: antidemocr...  9581 runnervmjd...     FALSE    running 2: shadowed_w...  9643 runnervmjd...     FALSE    running 3: dietetic_s...  9647 runnervmjd...     FALSE    running 4: subpentago...  9570 runnervmjd...     FALSE terminated rush$reset() wl_random_search = function(rush, branin) {   while(!rush$terminated) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } }  rush = rsh(   network = \"test-random-search-terminate\",   config = redux::redis_config())  rush$start_local_workers(   worker_loop = wl_random_search,   n_workers = 2,   branin = branin) rush$fetch_finished_tasks() worker_id        x1        x2          y             <char>     <num>     <num>      <num>   1: cainophobi... -1.446759  4.967859  24.184908   2: lax_mosasa... -3.082537  8.358510  14.665363   3: cainophobi... -4.970583  2.671470 220.710724   4: cainophobi...  8.596596  1.126222   4.052714   5: cainophobi...  6.643052  7.162193  55.396287  --- 508: cainophobi...  4.197123  8.353770  50.939042 509: cainophobi... -2.249488 14.485438  22.047853 510: lax_mosasa... -1.980607 12.993052  17.290090 511: cainophobi... -1.163884 10.543580  20.131560 512: lax_mosasa...  8.501033  6.753192  28.685855                                      keys                                    <list>   1: 1895409c-a3dd-47a5-b6ed-434f17a57d76   2: 72a53e0a-ad60-45f5-ae0d-393180c86b75   3: 79ab329d-2af7-4199-82e2-06cf7dfa5aad   4: a7f63f9e-20c7-45e7-a44a-35ebd031c5d0   5: b4c47818-7ed1-436d-9d60-ab7c9d65d6d7  --- 508: 4e3c5d1a-15c3-4bba-bda1-2f34f231302e 509: 51a867c6-f47d-4dea-9800-6f7d79bd93cd 510: 7a0953e8-1539-4b74-8fbf-e88964031eb8 511: 16190303-66aa-4343-a440-0676453eb45c 512: 34e11e35-16bd-4e17-80e9-3e17e61fae2b rush$stop_workers(type = \"terminate\") rush$worker_info worker_id   pid      hostname heartbeat      state           <char> <int>        <char>    <lgcl>     <char> 1: lax_mosasa...  9718 runnervmjd...     FALSE terminated 2: cainophobi...  9721 runnervmjd...     FALSE terminated"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-failed-workers","dir":"Articles","previous_headings":"","what":"Failed Workers","title":"Controller","text":"simulate segfault worker killing worker process. Workers started using faulty worker loop. $detect_lost_workers() method used identify failed workers. worker detected, state updated \"lost\".","code":"rush = rsh(network = \"test-failed-workers\")  wl_failed_worker = function(rush) {   tools::pskill(Sys.getpid(), tools::SIGKILL) } worker_ids =  rush$start_local_workers(   worker_loop = wl_failed_worker,   n_workers = 2) rush$detect_lost_workers() [1] \"green_goose\"      \"contusioned_oryx\" rush$worker_info worker_id   pid      hostname heartbeat      state           <char> <int>        <char>    <lgcl>     <char> 1: green_goos...  9794 runnervmjd...     FALSE terminated 2: contusione...  9797 runnervmjd...     FALSE terminated"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-local-log-messages","dir":"Articles","previous_headings":"","what":"Log Messages","title":"Controller","text":"Workers record messages generated using lgr package database. lgr_thresholds argument $start_local_workers() specifies logging level logger, e.g. c(\"mlr3/rush\" = \"debug\"). enabling log message storage introduces minor performance overhead, valuable debugging purposes. default, log messages stored. enable logging, workers started desired logging threshold. recent log messages can printed follows. retrieve log entries, use $read_log() method. reset network.","code":"rush = rsh(network = \"test-log-messages\")  wl_log_message = function(rush) {   lg = lgr::get_logger(\"mlr3/rush\")   lg$info(\"This is an info message from worker %s\", rush$worker_id) }  rush$start_local_workers(   worker_loop = wl_log_message,   n_workers = 2,   lgr_thresholds = c(rush = \"info\")) Sys.sleep(1) rush$print_log() rush$read_log() Null data.table (0 rows and 0 cols) rush$reset()"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-remote-workers","dir":"Articles","previous_headings":"","what":"Remote Workers","title":"Controller","text":"mirai package provides straightforward mechanism launching rush workers remote machines. mirai manages daemons, persistent background processes capable executing arbitrary R code parallel. daemons communicate main session. Usually mirai used start daemons remote machines can also used start local daemons. Daemons may also launched remote machine via SSH. high performance computing clusters, daemons can started using scheduler. define worker loop. start two new daemons. daemons started, can start remote workers. stop daemons. Failed workers started mirai also detected controller. simulate segfault worker killing worker process. Start two new daemons. Start two remote workers. segmentation fault also terminates associated mirai daemon. Therefore, necessary restart daemon restarting workers.","code":"library(mirai) daemons(   n = 2,   url = host_url() ) daemons(   n = 2L,   url = host_url(port = 5555),   remote = ssh_config(remotes = \"ssh://10.75.32.90\") ) daemons(   n = 2L,   url = host_url(),   remote = remote_config(     command = \"sbatch\",     args = c(\"--mem 512\", \"-n 1\", \"--wrap\", \".\"),     rscript = file.path(R.home(\"bin\"), \"Rscript\"),     quote = TRUE   ) ) wl_random_search = function(rush, branin) {   while(TRUE) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } }  rush = rsh(   network = \"test-network\",   config = redux::redis_config()) daemons(2) worker_ids = rush$start_remote_workers(   worker_loop = wl_random_search,   n_workers = 2,   branin = branin) Warning: ✖ $start_remote_workers() is deprecated and will be removed in the future. → Class: Mlr3WarningDeprecated rush$worker_info worker_id   pid      hostname heartbeat   state           <char> <int>        <char>    <lgcl>  <char> 1: bellicose_...  9982 runnervmjd...     FALSE running 2: unpretenti...  9984 runnervmjd...     FALSE running rush$reset() rush = rsh(network = \"test-failed-mirai-workers\")  wl_failed_worker = function(rush) {   tools::pskill(Sys.getpid(), tools::SIGKILL) } daemons(2) worker_ids = rush$start_remote_workers(   worker_loop = wl_failed_worker,   n_workers = 2) rush$detect_lost_workers() [1] \"expert_americancreamdraft\" \"phantasmagorial_morayeel\" daemons(2)"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-remote-start-workers","dir":"Articles","previous_headings":"","what":"Start Workers","title":"Controller","text":"Usually mirai used start daemons remote machines can also used start local daemons. Daemons may also launched remote machine via SSH. high performance computing clusters, daemons can started using scheduler. define worker loop. start two new daemons. daemons started, can start remote workers. stop daemons.","code":"daemons(   n = 2,   url = host_url() ) daemons(   n = 2L,   url = host_url(port = 5555),   remote = ssh_config(remotes = \"ssh://10.75.32.90\") ) daemons(   n = 2L,   url = host_url(),   remote = remote_config(     command = \"sbatch\",     args = c(\"--mem 512\", \"-n 1\", \"--wrap\", \".\"),     rscript = file.path(R.home(\"bin\"), \"Rscript\"),     quote = TRUE   ) ) wl_random_search = function(rush, branin) {   while(TRUE) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } }  rush = rsh(   network = \"test-network\",   config = redux::redis_config()) daemons(2) worker_ids = rush$start_remote_workers(   worker_loop = wl_random_search,   n_workers = 2,   branin = branin) Warning: ✖ $start_remote_workers() is deprecated and will be removed in the future. → Class: Mlr3WarningDeprecated rush$worker_info worker_id   pid      hostname heartbeat   state           <char> <int>        <char>    <lgcl>  <char> 1: bellicose_...  9982 runnervmjd...     FALSE running 2: unpretenti...  9984 runnervmjd...     FALSE running rush$reset()"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-remote-failed-workers","dir":"Articles","previous_headings":"","what":"Failed Workers","title":"Controller","text":"Failed workers started mirai also detected controller. simulate segfault worker killing worker process. Start two new daemons. Start two remote workers. segmentation fault also terminates associated mirai daemon. Therefore, necessary restart daemon restarting workers.","code":"rush = rsh(network = \"test-failed-mirai-workers\")  wl_failed_worker = function(rush) {   tools::pskill(Sys.getpid(), tools::SIGKILL) } daemons(2) worker_ids = rush$start_remote_workers(   worker_loop = wl_failed_worker,   n_workers = 2) rush$detect_lost_workers() [1] \"expert_americancreamdraft\" \"phantasmagorial_morayeel\" daemons(2)"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-script-workers","dir":"Articles","previous_headings":"","what":"Script Workers","title":"Controller","text":"flexible method starting workers use script generated $worker_script() method. script can executed either local machine remote machine. requirement machine capable running R scripts access Redis database. Workers started processx mirai monitored packages. heartbeat mechanism monitor status script workers. mechanism consists heartbeat key set expiration timeout dedicated heartbeat process refreshes timeout periodically. heartbeat process started callr linked main process worker. event worker’s failure, associated heartbeat process also ceases function, thus halting renewal timeout. absence heartbeat key acts indicator controller worker longer operational. Consequently, controller updates worker’s status \"lost\". Heartbeats initiated upon worker startup specifying heartbeat_period heartbeat_expire parameters. heartbeat_period defines frequency heartbeat process update timeout. heartbeat_expire sets duration, seconds, heartbeat key expires. expiration time set value greater heartbeat period ensure heartbeat process sufficient time refresh timeout. heartbeat process also way kill script worker. $stop_workers(type = \"kill\") method pushes kill signal heartbeat process. heartbeat process terminates main process worker.","code":"rush = rsh(   network = \"test-script-workers\",   config = redux::redis_config())  rush$worker_script(   worker_loop = wl_random_search) rush$worker_script(   worker_loop = wl_random_search,   heartbeat_period = 1,   heartbeat_expire = 3)"},{"path":"https://rush.mlr-org.com/dev/articles/controller.html","id":"sec-script-error-handling","dir":"Articles","previous_headings":"","what":"Error Handling","title":"Controller","text":"Workers started processx mirai monitored packages. heartbeat mechanism monitor status script workers. mechanism consists heartbeat key set expiration timeout dedicated heartbeat process refreshes timeout periodically. heartbeat process started callr linked main process worker. event worker’s failure, associated heartbeat process also ceases function, thus halting renewal timeout. absence heartbeat key acts indicator controller worker longer operational. Consequently, controller updates worker’s status \"lost\". Heartbeats initiated upon worker startup specifying heartbeat_period heartbeat_expire parameters. heartbeat_period defines frequency heartbeat process update timeout. heartbeat_expire sets duration, seconds, heartbeat key expires. expiration time set value greater heartbeat period ensure heartbeat process sufficient time refresh timeout. heartbeat process also way kill script worker. $stop_workers(type = \"kill\") method pushes kill signal heartbeat process. heartbeat process terminates main process worker.","code":"rush$worker_script(   worker_loop = wl_random_search,   heartbeat_period = 1,   heartbeat_expire = 3)"},{"path":"https://rush.mlr-org.com/dev/articles/error_handling.html","id":"sec-error-handling-simple","dir":"Articles","previous_headings":"","what":"Simple R Errors","title":"Error Handling and Debugging","text":"illustrate error-handling mechanism rush, employ random search example main vignette. time introduce random error 50% probability. Within worker loop, users responsible catching errors marking corresponding task \"failed\" using $push_failed() method. start workers. error occurs, task marked \"failed\", error message stored \"message\" column. approach ensures errors interrupt overall execution process. allows subsequent inspection errors reevaluation failed tasks necessary.","code":"library(rush)  branin = function(x1, x2) {   (x2 - 5.1 / (4 * pi^2) * x1^2 + 5 / pi * x1 - 6)^2 + 10 * (1 - 1 / (8 * pi)) * cos(x1) + 10 }  wl_random_search = function(rush, branin) {    while(rush$n_finished_tasks < 100) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      tryCatch({       if (runif(1) < 0.5) stop(\"Random Error\")       ys = list(y = branin(xs$x1, xs$x2))       rush$push_results(key, yss = list(ys))     }, error = function(e) {       condition = list(message = e$message)       rush$push_failed(key, conditions = list(condition))     })      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } } rush = rsh(   network = \"test-simply-error\",   config = redux::redis_config())  rush$start_local_workers(   worker_loop = wl_random_search,   n_workers = 4,   branin = branin) rush$fetch_failed_tasks() x1         x2     worker_id       message          keys            <num>      <num>        <char>        <char>        <char>  1: -4.725383926  1.9399631 old_americ... Random Err... 791d0c49-a...  2:  0.007392108  5.0208139 grand_achi... Random Err... b18329eb-b...  3: -0.032403045 10.6611245 bottlegree... Random Err... 9e796a0d-3...  4:  5.501409615  6.5537378 grand_achi... Random Err... 9737defb-d...  5:  2.135925858 13.1642222 old_americ... Random Err... 929f480d-6...  6: -4.606072480 13.2953966 grand_achi... Random Err... 2a195648-4...  7:  7.615385449 11.2930386 grand_achi... Random Err... 4eb41b5f-4...  8:  5.004154907  2.0817228 statued_bl... Random Err... 8897476a-4...  9:  1.944819104 13.3812302 bottlegree... Random Err... f4e0505d-7... 10:  8.835772586 13.8916484 grand_achi... Random Err... b4b89ec0-8... 11: -0.054570267  1.1926881 old_americ... Random Err... e086303b-a... 12:  9.558668602  0.5821565 grand_achi... Random Err... 59f2f58c-9... 13:  8.880134880 13.0142312 bottlegree... Random Err... 2824c4bb-8... 14: -2.816315939  6.2241219 old_americ... Random Err... 139f5f44-8... 15:  0.971578187 10.2408828 grand_achi... Random Err... 8fc8cf30-c... 16:  8.997185368 12.8343520 bottlegree... Random Err... 7c15d6f7-a... 17:  1.741060556  6.4893536 old_americ... Random Err... 86284107-1... 18:  8.149738677  3.1032361 bottlegree... Random Err... 7a646792-4... 19:  0.180336869  9.4058284 statued_bl... Random Err... f3f86842-9... 20:  8.466383209  7.9316488 grand_achi... Random Err... 3c44a3de-0... 21: -4.774707173  0.5095697 bottlegree... Random Err... faf73083-1... 22:  5.219195434 11.3293475 statued_bl... Random Err... ee451504-f... 23:  4.019416111  5.5953445 grand_achi... Random Err... 3f9cb754-d... 24:  3.975853565  6.1343036 statued_bl... Random Err... 03fa6a30-8... 25:  3.231917431 11.3067743 old_americ... Random Err... 3d6c23ad-a... 26:  6.148820143  9.7070120 bottlegree... Random Err... 7b771e79-1... 27:  8.893907943  0.2569303 old_americ... Random Err... 448883b4-2...               x1         x2     worker_id       message          keys            <num>      <num>        <char>        <char>        <char>"},{"path":"https://rush.mlr-org.com/dev/articles/error_handling.html","id":"sec-error-handling-workers","dir":"Articles","previous_headings":"","what":"Handling Failing Workers","title":"Error Handling and Debugging","text":"rush package provides mechanisms address situations workers fail due crashes lost connections. failures may result tasks remaining “running” state indefinitely. illustrate , define function simulates segmentation fault terminating worker process. package offers $detect_lost_workers() method, designed identify manage occurrences. method works workers started $start_local_workers() $start_remote_workers(). Workers started $worker_script() must started heartbeat mechanism (see vignette). worker fails, status task caused failure set \"failed\".","code":"wl_failed_worker = function(rush) {   xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))   key = rush$push_running_tasks(xss = list(xs))    tools::pskill(Sys.getpid(), tools::SIGKILL) }  rush = rsh(network = \"test-failed-workers\")  worker_ids =  rush$start_local_workers(   worker_loop = wl_failed_worker,   n_workers = 2) rush$detect_lost_workers() [1] \"gimmicky_galapagosmockingbird\" \"hardshell_drake\" rush$fetch_failed_tasks() x1        x2     worker_id       message          keys        <num>     <num>        <char>        <char>        <char> 1: -3.402880  9.985569 gimmicky_g... Worker has... 652fd16d-d... 2:  1.070723 10.788235 hardshell_... Worker has... b0606a16-0..."},{"path":"https://rush.mlr-org.com/dev/articles/error_handling.html","id":"debugging","dir":"Articles","previous_headings":"","what":"Debugging","title":"Error Handling and Debugging","text":"worker loop fails unexpectedly due uncaught error, necessary debug worker loop. Consider following example, worker loop randomly generates error. begin debugging, worker loop executed locally. requires initialization RushWorker instance. Although rush worker typically created worker initialization, can also instantiated manually. worker instance passed argument worker loop. error raised main process, traceback() function can invoked examine stack trace. Breakpoints may also set within worker loop inspect program state. approach provides substantial control debugging process. Certain errors, missing packages undefined global variables, may encountered running locally. However, issues can readily identified using $detect_lost_workers() method. $detect_lost_workers() method can used identify lost workers. Output message logs can written files specifying message_log output_log arguments.","code":"wl_error = function(rush) {    repeat {     x1 = runif(1)     x2 = runif(1)      xss = list(list(x1 = x1, x2 = x2))      key = rush$push_running_tasks(xss = xss)      if (x1 > 0.90) {       stop(\"Unexpected error\")     }      rush$push_results(key, yss = list(list(y = x1 + x2)))   } } rush_worker = RushWorker$new(\"test\", remote = FALSE) Error in `initialize()`: ! unused argument (remote = FALSE) wl_error(rush_worker) Error: ! object 'rush_worker' not found rush = rsh(\"test-error\")  rush$start_local_workers(   worker_loop = wl_error,   n_workers = 1 ) rush$detect_lost_workers() [1] \"temptuous_falcon\" rush = rsh(\"test-error\")  message_log = tempdir() output_log = tempdir()  worker_ids = rush$start_local_workers(   worker_loop = wl_error,   n_workers = 1,   message_log = message_log,   output_log = output_log )  Sys.sleep(5)  readLines(file.path(message_log, sprintf(\"message_%s.log\", worker_ids[1]))) [1] \"Debug message logging on worker astounding_zooplankton started\"  [2] \"Error in start_args$worker_loop(rush = rush) : Unexpected error\"  [3] \"Calls: <Anonymous> ... <Anonymous> -> eval.parent -> eval -> eval -> <Anonymous>\"  [4] \"In addition: Warning message:\"  [5] \"\"  [6] \"✖ $push_results() is deprecated. Use $finish_tasks() instead. is deprecated and\"  [7] \"  will be removed in the future.\"  [8] \"→ Class: Mlr3WarningDeprecated\"  [9] \" \" [10] \"Execution halted\" readLines(file.path(output_log, sprintf(\"output_%s.log\", worker_ids[1]))) [1] \"[1] \\\"Debug output logging on worker astounding_zooplankton started\\\"\""},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"random-search","dir":"Articles","previous_headings":"","what":"Random Search","title":"rush - Asynchronous and Distributed Computing","text":"begin simple random search optimize Branin function parallel. Although random search require communication workers, good way introduce basic ideas behind rush. classic Branin function (also called Branin-Hoo function) well-known benchmark problem global optimization. two-dimensional function non-convex, multimodal, three global minima. function toy example optimization thats fast evaluate simple solved. Branin function usually evaluated domain \\(x_1 \\[-5, 10]\\) \\(x_2 \\[0, 15]\\).  define worker_loop function, runs worker. repeatedly draws tasks, evaluates , sends results Redis database. function takes single argument: RushWorker object, handles communication Redis. example, worker samples random point, creates task, evaluates using Branin function, submits result. optimization stops 100 tasks evaluated. important methods RushWorker $push_running_tasks() $push_results() methods. first method $push_running_tasks() creates new task Redis database. Since evaluated next, task marked running. $push_running_tasks() method returns unique key used identify task. second method $push_results() used push results back Redis database. takes key task list results. mark task running important random search, crucial sophisticated algorithms use tasks workers decide task evaluate next. example, Bayesian optimization algorithms sample next point away previous points explore search space. $n_finished_tasks shows many tasks finished used stop worker loop. Tasks unit workers exchange information. main components task key, computational state, input (xs), result (ys). key unique identifier task. identifies task Redis database. four possible computational states \"running\", \"finished\", \"failed\", \"queued\". $push_running_tasks() method marks \"running\" returns key task. $push_results() method marks task \"finished\" stores result. Failed tasks can marked \"failed\" $push_failed() method. error catching must implemented worker loop (see Error Handling details). Tasks can also pushed queue $push_tasks() method sets state \"queued\". last example gives details task queue different methods push pop tasks. input xs result ys lists can contain arbitrary data. Usually methods RushWorker work multiple tasks , xxs yss lists inputs results. Rush controller responsible starting, observing, stopping workers within network. initialized using rsh() function, requires network ID config argument. config argument configuration file used connect Redis database via redux package. Workers can started using $start_local_workers() method, accepts worker loop number workers arguments. workers started locally processx package also possible start workers remote machine (see Rush Controller). pass branin function explicitly argument worker loop. different worker types can found Rush Controller vignette. optimization quickly finished retrieve results. $fetch_finished_tasks() method fetches finished tasks database. method returns data.table() key, input, result. pid worker_id column additional information stored task created. worker_id id worker evaluated task pid process id worker. extra information can passed lists $push_running_tasks() $push_results() methods via extra argument. rush controller displays many workers running many tasks exist state. case, 103 tasks marked finished, workers stopped. number slightly exceeds 100 workers check stopping condition independently. several workers evaluate condition around time — , example, 99 tasks finished — may create new tasks detecting limit reached. Additionally, tasks may continue created 100th task still evaluated. can stop workers reset database $reset() method. learn starting, stopping observing workers, see Rush Controller vignette.","code":"branin = function(x1, x2) {   (x2 - 5.1 / (4 * pi^2) * x1^2 + 5 / pi * x1 - 6)^2 + 10 * (1 - 1 / (8 * pi)) * cos(x1) + 10 } wl_random_search = function(rush, branin) {    while(rush$n_finished_tasks < 100) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } } library(rush)  config = redux::redis_config()  rush = rsh(   network = \"test-random-search\",   config = config) rush$start_local_workers(   worker_loop = wl_random_search,   n_workers = 4,   branin = branin)  rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 0 • Running Tasks: 0 • Finished Tasks: 0 • Failed Tasks: 0 rush$fetch_finished_tasks()[order(y)] worker_id        x1          x2           y             <char>     <num>       <num>       <num>   1: florid_leo...  9.280327  2.92918468   0.8266084   2: florid_leo... -2.571671  9.77902534   3.2804369   3: florid_leo... -2.945215 13.52660173   3.5359028   4: florid_leo... -2.290901  9.43949745   4.4502298   5: florid_leo...  3.180755  0.01444782   5.3790839  ---  99: florid_leo... -4.448061  2.65730583 175.9185314 100: selfconcei...  6.915296 14.03218583 183.1379223 101: florid_leo...  6.266561 14.14862571 189.8802974 102: surefooted...  5.166459 14.97115530 203.1532192 103: surefooted... -4.193035  0.79606108 205.4178377                                      keys                                    <list>   1: 88743de4-2f4c-4816-9e7d-3f3738e7da1a   2: a4222043-dabc-460f-a3a0-b66bac38760a   3: cccd719c-d586-48c9-97ee-cebbeea3f390   4: 7532f411-be8a-4d37-8bc6-8593ac57bc22   5: ee79f0eb-46c5-4664-8c24-9480a115eabf  ---  99: 670b41af-8195-453e-8e83-4b2d4a3c48a5 100: a1a3ba3e-a186-4761-9b16-d86d1a029ca3 101: fe6b4b3c-1c1c-4917-993a-4926f6d5cf26 102: 5dce0499-34d3-4538-80eb-67206848195c 103: 5ae8d14e-ed21-48c0-a6c4-d3f615c04d2d rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 0 • Running Tasks: 0 • Finished Tasks: 103 • Failed Tasks: 0 rush$reset()  rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 0 • Running Tasks: 0 • Finished Tasks: 0 • Failed Tasks: 0"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"worker-loop","dir":"Articles","previous_headings":"","what":"Worker Loop","title":"rush - Asynchronous and Distributed Computing","text":"define worker_loop function, runs worker. repeatedly draws tasks, evaluates , sends results Redis database. function takes single argument: RushWorker object, handles communication Redis. example, worker samples random point, creates task, evaluates using Branin function, submits result. optimization stops 100 tasks evaluated. important methods RushWorker $push_running_tasks() $push_results() methods. first method $push_running_tasks() creates new task Redis database. Since evaluated next, task marked running. $push_running_tasks() method returns unique key used identify task. second method $push_results() used push results back Redis database. takes key task list results. mark task running important random search, crucial sophisticated algorithms use tasks workers decide task evaluate next. example, Bayesian optimization algorithms sample next point away previous points explore search space. $n_finished_tasks shows many tasks finished used stop worker loop.","code":"wl_random_search = function(rush, branin) {    while(rush$n_finished_tasks < 100) {      xs = list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15))     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } }"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"tasks","dir":"Articles","previous_headings":"","what":"Tasks","title":"rush - Asynchronous and Distributed Computing","text":"Tasks unit workers exchange information. main components task key, computational state, input (xs), result (ys). key unique identifier task. identifies task Redis database. four possible computational states \"running\", \"finished\", \"failed\", \"queued\". $push_running_tasks() method marks \"running\" returns key task. $push_results() method marks task \"finished\" stores result. Failed tasks can marked \"failed\" $push_failed() method. error catching must implemented worker loop (see Error Handling details). Tasks can also pushed queue $push_tasks() method sets state \"queued\". last example gives details task queue different methods push pop tasks. input xs result ys lists can contain arbitrary data. Usually methods RushWorker work multiple tasks , xxs yss lists inputs results.","code":""},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"controller","dir":"Articles","previous_headings":"","what":"Controller","title":"rush - Asynchronous and Distributed Computing","text":"Rush controller responsible starting, observing, stopping workers within network. initialized using rsh() function, requires network ID config argument. config argument configuration file used connect Redis database via redux package. Workers can started using $start_local_workers() method, accepts worker loop number workers arguments. workers started locally processx package also possible start workers remote machine (see Rush Controller). pass branin function explicitly argument worker loop. different worker types can found Rush Controller vignette. optimization quickly finished retrieve results. $fetch_finished_tasks() method fetches finished tasks database. method returns data.table() key, input, result. pid worker_id column additional information stored task created. worker_id id worker evaluated task pid process id worker. extra information can passed lists $push_running_tasks() $push_results() methods via extra argument. rush controller displays many workers running many tasks exist state. case, 103 tasks marked finished, workers stopped. number slightly exceeds 100 workers check stopping condition independently. several workers evaluate condition around time — , example, 99 tasks finished — may create new tasks detecting limit reached. Additionally, tasks may continue created 100th task still evaluated. can stop workers reset database $reset() method. learn starting, stopping observing workers, see Rush Controller vignette.","code":"library(rush)  config = redux::redis_config()  rush = rsh(   network = \"test-random-search\",   config = config) rush$start_local_workers(   worker_loop = wl_random_search,   n_workers = 4,   branin = branin)  rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 0 • Running Tasks: 0 • Finished Tasks: 0 • Failed Tasks: 0 rush$fetch_finished_tasks()[order(y)] worker_id        x1          x2           y             <char>     <num>       <num>       <num>   1: florid_leo...  9.280327  2.92918468   0.8266084   2: florid_leo... -2.571671  9.77902534   3.2804369   3: florid_leo... -2.945215 13.52660173   3.5359028   4: florid_leo... -2.290901  9.43949745   4.4502298   5: florid_leo...  3.180755  0.01444782   5.3790839  ---  99: florid_leo... -4.448061  2.65730583 175.9185314 100: selfconcei...  6.915296 14.03218583 183.1379223 101: florid_leo...  6.266561 14.14862571 189.8802974 102: surefooted...  5.166459 14.97115530 203.1532192 103: surefooted... -4.193035  0.79606108 205.4178377                                      keys                                    <list>   1: 88743de4-2f4c-4816-9e7d-3f3738e7da1a   2: a4222043-dabc-460f-a3a0-b66bac38760a   3: cccd719c-d586-48c9-97ee-cebbeea3f390   4: 7532f411-be8a-4d37-8bc6-8593ac57bc22   5: ee79f0eb-46c5-4664-8c24-9480a115eabf  ---  99: 670b41af-8195-453e-8e83-4b2d4a3c48a5 100: a1a3ba3e-a186-4761-9b16-d86d1a029ca3 101: fe6b4b3c-1c1c-4917-993a-4926f6d5cf26 102: 5dce0499-34d3-4538-80eb-67206848195c 103: 5ae8d14e-ed21-48c0-a6c4-d3f615c04d2d rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 0 • Running Tasks: 0 • Finished Tasks: 103 • Failed Tasks: 0 rush$reset()  rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 0 • Running Tasks: 0 • Finished Tasks: 0 • Failed Tasks: 0"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"median-stopping","dir":"Articles","previous_headings":"","what":"Median Stopping","title":"rush - Asynchronous and Distributed Computing","text":"Random search simple example doesn’t rely information previous tasks therefore doesn’t require communication workers. Now, let’s implement sophisticated algorithm uses results completed tasks decide whether continue evaluating current one. tune XGBoost model mtcars dataset use median stopping rule stop training early. worker starts sampling random hyperparameter configuration three parameters: maximum tree depth, lambda regularization, alpha regularization. parameters control XGBoost model learns data. worker trains model incrementally, starting 5 boosting rounds adding one round time 20 rounds. round, worker evaluates model’s performance test set using root mean squared error (RMSE). point, worker checks well model compared workers fetching completed results comparing performance median score among models number training rounds. current model performs worse median, worker stops hyperparameter configuration starts new one. early stopping mechanism prevents workers wasting time poor-performing configurations. model performs median, worker continues training one round. process continues network evaluated 1000 complete models across workers. worker loop uses new method called $fetch_finished_tasks() fetch finished tasks database. methods like $fetch_running_tasks() $fetch_failed_tasks() also available. sample training test set mtcars dataset. training set used fit model test set used evaluate model. initialize rush network start workers. time pass training/test split data explicitly arguments worker loop, use packages argument load data.table xgboost packages. fetch finished tasks sort objective value. stop workers reset database.ch","code":"wl_median_stopping = function(rush, training_ids, test_ids, data, y) {   while(rush$n_finished_tasks < 1000) {      params = list(       max_depth = sample(1:20, 1),       lambda = runif(1, 0, 1),       alpha = runif(1, 0, 1)     )      model = NULL     for (iteration in seq(5, 20, by = 1)) {        key = rush$push_running_tasks(xss = list(c(params, list(nrounds = iteration))))        model = xgboost(         data = as.matrix(data[training_ids, ]),         label = y[training_ids],         nrounds = if (is.null(model)) 5 else 1,         params = params,         xgb_model = model,         verbose = 0       )        pred = predict(model, as.matrix(data[test_ids, ]))       rmse = sqrt(mean((pred - y[test_ids])^2))        rush$push_results(key, yss = list(list(rmse = rmse)))        tasks = rush$fetch_finished_tasks()       if (rmse > median(tasks[nrounds == iteration, rmse])) break     }   } } data(mtcars)  training_ids = sample(1:nrow(mtcars), 20) test_ids = setdiff(1:nrow(mtcars), training_ids) data = mtcars[, -1] y = mtcars$mpg  config = redux::redis_config()  rush = rsh(   network = \"test-median-stopping\",   config = config)  rush$start_local_workers(   worker_loop = wl_median_stopping,   n_workers = 4,   packages = c(\"data.table\", \"xgboost\"),   training_ids = training_ids,   test_ids = test_ids,   data = data,   y = y) rush$fetch_finished_tasks()[order(y)] Null data.table (0 rows and 0 cols) rush$reset()"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"worker-loop-1","dir":"Articles","previous_headings":"","what":"Worker Loop","title":"rush - Asynchronous and Distributed Computing","text":"worker starts sampling random hyperparameter configuration three parameters: maximum tree depth, lambda regularization, alpha regularization. parameters control XGBoost model learns data. worker trains model incrementally, starting 5 boosting rounds adding one round time 20 rounds. round, worker evaluates model’s performance test set using root mean squared error (RMSE). point, worker checks well model compared workers fetching completed results comparing performance median score among models number training rounds. current model performs worse median, worker stops hyperparameter configuration starts new one. early stopping mechanism prevents workers wasting time poor-performing configurations. model performs median, worker continues training one round. process continues network evaluated 1000 complete models across workers. worker loop uses new method called $fetch_finished_tasks() fetch finished tasks database. methods like $fetch_running_tasks() $fetch_failed_tasks() also available. sample training test set mtcars dataset. training set used fit model test set used evaluate model. initialize rush network start workers. time pass training/test split data explicitly arguments worker loop, use packages argument load data.table xgboost packages. fetch finished tasks sort objective value. stop workers reset database.ch","code":"wl_median_stopping = function(rush, training_ids, test_ids, data, y) {   while(rush$n_finished_tasks < 1000) {      params = list(       max_depth = sample(1:20, 1),       lambda = runif(1, 0, 1),       alpha = runif(1, 0, 1)     )      model = NULL     for (iteration in seq(5, 20, by = 1)) {        key = rush$push_running_tasks(xss = list(c(params, list(nrounds = iteration))))        model = xgboost(         data = as.matrix(data[training_ids, ]),         label = y[training_ids],         nrounds = if (is.null(model)) 5 else 1,         params = params,         xgb_model = model,         verbose = 0       )        pred = predict(model, as.matrix(data[test_ids, ]))       rmse = sqrt(mean((pred - y[test_ids])^2))        rush$push_results(key, yss = list(list(rmse = rmse)))        tasks = rush$fetch_finished_tasks()       if (rmse > median(tasks[nrounds == iteration, rmse])) break     }   } } data(mtcars)  training_ids = sample(1:nrow(mtcars), 20) test_ids = setdiff(1:nrow(mtcars), training_ids) data = mtcars[, -1] y = mtcars$mpg  config = redux::redis_config()  rush = rsh(   network = \"test-median-stopping\",   config = config)  rush$start_local_workers(   worker_loop = wl_median_stopping,   n_workers = 4,   packages = c(\"data.table\", \"xgboost\"),   training_ids = training_ids,   test_ids = test_ids,   data = data,   y = y) rush$fetch_finished_tasks()[order(y)] Null data.table (0 rows and 0 cols) rush$reset()"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"bayesian-optimization","dir":"Articles","previous_headings":"","what":"Bayesian Optimization","title":"rush - Asynchronous and Distributed Computing","text":"implement Asynchronous Distributed Bayesian Optimization (ADBO) [@egele_2023] next. example shows workers use information running tasks introduces task queues. ADBO runs sequential Bayesian optimization multiple workers parallel. worker maintains surrogate model (random forest) selects next hyperparameter configuration maximizing upper confidence bounds acquisition function. promote varying exploration-exploitation tradeoff workers, acquisition functions initialized different lambda values ranging 0.1 10. worker completes evaluation, asynchronously sends result peers via Redis data base; worker updates local model shared information. decentralized design enables workers proceed independently; eliminating need central coordinator become bottleneck large-scale optimization scenarios. first create new rush network. queue system works pushing popping tasks queue. $push_task() method creates new tasks pushes queue. example, draw initial design 25 points push queue. see 25 queued tasks database. retrieve tasks queue, need implement $pop_task() method worker loop. worker loop pops tasks $pop_task() method queue. task evaluated results pushed back database $push_results() method. tasks queue, $pop_task() method returns NULL worker loop starts Bayesian optimization. First, lambda value acquisition function sampled 0.01 10. running finished tasks fetched database. Using rush$fetch_tasks_with_state() instead using $fetch_running_tasks() $fetch_finished_tasks() important prevents tasks appearing twice. case worker changes state task \"running\" \"finished\" tasks fetched. missing y values running tasks imputed mean finished tasks. surrogate random forest model fitted data acquisition function optimized find next task. Marking task running important Bayesian optimization algorithm, uses already sampled points workers decide task evaluate next. task evaluated results pushed back database. stop optimization process 100 evaluated tasks. start optimization process starting 4 local workers run Bayesian optimization worker loop. optimization quickly finished retrieve results.","code":"config = redux::redis_config()  rush = rsh(   network = \"test-bayesian-optimization\",   config = config) xss = replicate(25, list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15)), simplify = FALSE)  rush$push_tasks(xss = xss)  rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 25 • Running Tasks: 0 • Finished Tasks: 0 • Failed Tasks: 0 wl_bayesian_optimization = function(rush, branin_fun) {   repeat {     task = rush$pop_task()     if (is.null(task)) break     ys = list(y = branin(task$xs$x1, task$xs$x2))     rush$push_results(task$key, yss = list(ys))   }    lambda = runif(1, 0.01, 10)    while(rush$n_finished_tasks < 100) {      xydt = rush$fetch_tasks_with_state(states = c(\"running\", \"finished\"))     mean_y = mean(xydt$y, na.rm = TRUE)     xydt[\"running\", y := mean_y, on = \"state\"]      surrogate = ranger::ranger(       y ~ x1 + x2,       data = xydt,       num.trees = 100L,       keep.inbag = TRUE)     xdt = data.table::data.table(x1 = runif(1000, -5, 10), x2 = runif(1000, 0, 15))     p = predict(surrogate, xdt, type = \"se\", se.method = \"jack\")     cb = p$predictions - lambda * p$se     xs = as.list(xdt[which.min(cb)])     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin_fun(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } } rush$start_local_workers(   worker_loop = wl_bayesian_optimization,   n_workers = 4,   branin_fun = branin) rush$fetch_finished_tasks()[order(y)] Null data.table (0 rows and 0 cols)"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"queues","dir":"Articles","previous_headings":"","what":"Queues","title":"rush - Asynchronous and Distributed Computing","text":"queue system works pushing popping tasks queue. $push_task() method creates new tasks pushes queue. example, draw initial design 25 points push queue. see 25 queued tasks database. retrieve tasks queue, need implement $pop_task() method worker loop.","code":"xss = replicate(25, list(x1 = runif(1, -5, 10), x2 = runif(1, 0, 15)), simplify = FALSE)  rush$push_tasks(xss = xss)  rush ── <Rush> ────────────────────────────────────────────────────────────────────── • Running Workers: 0 • Queued Tasks: 25 • Running Tasks: 0 • Finished Tasks: 0 • Failed Tasks: 0"},{"path":"https://rush.mlr-org.com/dev/articles/rush.html","id":"worker-loop-2","dir":"Articles","previous_headings":"","what":"Worker Loop","title":"rush - Asynchronous and Distributed Computing","text":"worker loop pops tasks $pop_task() method queue. task evaluated results pushed back database $push_results() method. tasks queue, $pop_task() method returns NULL worker loop starts Bayesian optimization. First, lambda value acquisition function sampled 0.01 10. running finished tasks fetched database. Using rush$fetch_tasks_with_state() instead using $fetch_running_tasks() $fetch_finished_tasks() important prevents tasks appearing twice. case worker changes state task \"running\" \"finished\" tasks fetched. missing y values running tasks imputed mean finished tasks. surrogate random forest model fitted data acquisition function optimized find next task. Marking task running important Bayesian optimization algorithm, uses already sampled points workers decide task evaluate next. task evaluated results pushed back database. stop optimization process 100 evaluated tasks. start optimization process starting 4 local workers run Bayesian optimization worker loop. optimization quickly finished retrieve results.","code":"wl_bayesian_optimization = function(rush, branin_fun) {   repeat {     task = rush$pop_task()     if (is.null(task)) break     ys = list(y = branin(task$xs$x1, task$xs$x2))     rush$push_results(task$key, yss = list(ys))   }    lambda = runif(1, 0.01, 10)    while(rush$n_finished_tasks < 100) {      xydt = rush$fetch_tasks_with_state(states = c(\"running\", \"finished\"))     mean_y = mean(xydt$y, na.rm = TRUE)     xydt[\"running\", y := mean_y, on = \"state\"]      surrogate = ranger::ranger(       y ~ x1 + x2,       data = xydt,       num.trees = 100L,       keep.inbag = TRUE)     xdt = data.table::data.table(x1 = runif(1000, -5, 10), x2 = runif(1000, 0, 15))     p = predict(surrogate, xdt, type = \"se\", se.method = \"jack\")     cb = p$predictions - lambda * p$se     xs = as.list(xdt[which.min(cb)])     key = rush$push_running_tasks(xss = list(xs))      ys = list(y = branin_fun(xs$x1, xs$x2))     rush$push_results(key, yss = list(ys))   } } rush$start_local_workers(   worker_loop = wl_bayesian_optimization,   n_workers = 4,   branin_fun = branin) rush$fetch_finished_tasks()[order(y)] Null data.table (0 rows and 0 cols)"},{"path":"https://rush.mlr-org.com/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Marc Becker. Maintainer, author, copyright holder.","code":""},{"path":"https://rush.mlr-org.com/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Becker M (2026). rush: Rapid Asynchronous Distributed Computing. R package version 0.4.1.9000, https://rush.mlr-org.com.","code":"@Manual{,   title = {rush: Rapid Asynchronous and Distributed Computing},   author = {Marc Becker},   year = {2026},   note = {R package version 0.4.1.9000},   url = {https://rush.mlr-org.com}, }"},{"path":"https://rush.mlr-org.com/dev/index.html","id":"rush","dir":"","previous_headings":"","what":"Rapid Asynchronous and Distributed Computing","title":"Rapid Asynchronous and Distributed Computing","text":"Package website: release | dev rush package designed solve large-scale problems asynchronously across distributed network. Employing database centric model, rush enables workers communicate tasks results shared Redis database. Key features include low task overhead, efficient caching, robust error handling. package powers asynchronous optimization algorithms bbotk mlr3tuning packages.","code":""},{"path":"https://rush.mlr-org.com/dev/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Rapid Asynchronous and Distributed Computing","text":"Database centric model robust scalability. Efficient communication workers usingRedis. Maintains low overhead, limiting delays just millisecond per task. Reduces read/write operations lightweight efficient caching system. Offers centralized system features, task queues. Provides fast data transformation Redis data.table. Simplifies local worker setup processx. Enables scaling large remote worker networks via mirai package. Automatically detects recovers worker failures high reliability. Logs worker messages directly Redis database using lgr. Designed minimal dependencies lightweight integration.","code":""},{"path":"https://rush.mlr-org.com/dev/index.html","id":"install","dir":"","previous_headings":"","what":"Install","title":"Rapid Asynchronous and Distributed Computing","text":"Install latest release CRAN. Install development version GitHub. install Redis.","code":"install.packages(\"rush\") pak::pak(\"mlr-org/rush\")"},{"path":"https://rush.mlr-org.com/dev/index.html","id":"test-with-redis","dir":"","previous_headings":"","what":"Test with Redis","title":"Rapid Asynchronous and Distributed Computing","text":"test package, set RUSH_TEST_USE_REDIS environment variable true. test suite deletes Redis database execution, never run production server.","code":"Sys.setenv(RUSH_TEST_USE_REDIS = \"true\")"},{"path":"https://rush.mlr-org.com/dev/index.html","id":"related-work","dir":"","previous_headings":"","what":"Related Work","title":"Rapid Asynchronous and Distributed Computing","text":"rrq package task queue system R using Redis. future package provides simple uniform way evaluating R expressions asynchronously across range backends. batchtools package execution long-running tasks high-performance computing clusters. mirai package evaluates R expression asynchronously parallel process, locally distributed network.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":null,"dir":"Reference","previous_headings":"","what":"Log to Redis Database — AppenderRedis","title":"Log to Redis Database — AppenderRedis","text":"AppenderRedis writes log messages Redis data base. lgr::Appender created internally RushWorker logger thresholds passed via rush_plan().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Log to Redis Database — AppenderRedis","text":"Object class R6::R6Class AppenderRedis methods writing log events Redis data bases.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"super-classes","dir":"Reference","previous_headings":"","what":"Super classes","title":"Log to Redis Database — AppenderRedis","text":"lgr::Filterable -> lgr::Appender -> lgr::AppenderMemory -> AppenderRedis","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Log to Redis Database — AppenderRedis","text":"lgr::Filterable$add_filter() lgr::Filterable$filter() lgr::Filterable$remove_filter() lgr::Filterable$set_filters() lgr::Appender$set_layout() lgr::Appender$set_threshold() lgr::AppenderMemory$append() lgr::AppenderMemory$clear() lgr::AppenderMemory$format() lgr::AppenderMemory$set_buffer_size() lgr::AppenderMemory$set_flush_on_exit() lgr::AppenderMemory$set_flush_on_rotate() lgr::AppenderMemory$set_flush_threshold() lgr::AppenderMemory$set_should_flush() lgr::AppenderMemory$show()","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Log to Redis Database — AppenderRedis","text":"AppenderRedis$new() AppenderRedis$flush()","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Log to Redis Database — AppenderRedis","text":"Creates new instance R6 class.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log to Redis Database — AppenderRedis","text":"","code":"AppenderRedis$new(   config,   key,   threshold = NA_integer_,   layout = lgr::LayoutJson$new(timestamp_fmt = \"%Y-%m-%d %H:%M:%OS3\"),   buffer_size = 0,   flush_threshold = \"error\",   flush_on_exit = TRUE,   flush_on_rotate = TRUE,   should_flush = NULL,   filters = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Log to Redis Database — AppenderRedis","text":"config (redux::redis_config) Redis configuration options. key (character(1)) Key list holding log messages Redis data store. threshold (integer(1) | character(1)) Threshold log messages. layout (lgr::Layout) Layout log messages. buffer_size (integer(1)) Size buffer. flush_threshold (character(1)) Threshold flushing buffer. flush_on_exit (logical(1)) Flush buffer exit. flush_on_rotate (logical(1)) Flush buffer rotate. should_flush (function) Function determines buffer flushed. filters (list) List filters.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"method-flush-","dir":"Reference","previous_headings":"","what":"Method flush()","title":"Log to Redis Database — AppenderRedis","text":"Sends buffer's contents Redis data store, clears buffer.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Log to Redis Database — AppenderRedis","text":"","code":"AppenderRedis$flush()"},{"path":"https://rush.mlr-org.com/dev/reference/AppenderRedis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Log to Redis Database — AppenderRedis","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{    config_local = redux::redis_config()     rush_plan(      config = config_local,      n_workers = 2,      lgr_thresholds = c(rush = \"info\"))     rush = rsh(network_id = \"test_network\")    rush #>  #> ── <Rush> ────────────────────────────────────────────────────────────────────── #> • Running Workers: 0 #> • Queued Tasks: 0 #> • Running Tasks: 0 #> • Finished Tasks: 0 #> • Failed Tasks: 0 # }"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":null,"dir":"Reference","previous_headings":"","what":"Rush Manager — Rush","title":"Rush Manager — Rush","text":"Rush manager responsible starting, observing, stopping workers within rush network. initialized using rsh() function, requires network ID config argument. config argument configuration used connect Redis database via redux package.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rush Manager — Rush","text":"Object class R6::R6Class Rush.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"tasks","dir":"Reference","previous_headings":"","what":"Tasks","title":"Rush Manager — Rush","text":"Tasks unit workers exchange information. main components task key, computational state, input (xs), output (ys). key unique identifier task Redis database. four possible computational states \"running\", \"finished\", \"failed\", \"queued\". input xs output ys lists can contain arbitrary data. Methods create task: $push_running_tasks(xss): Create running tasks $push_finished_tasks(xss, yss): Create finished tasks. $push_failed_tasks(xss, conditions): Create failed tasks. $push_tasks(xss): Create queued tasks. methods return key created tasks. methods work multiple tasks , xss yss lists inputs outputs. Methods change state existing task: $finish_tasks(keys, yss): Save output tasks mark finished. $fail_tasks(keys, conditions): Mark tasks failed optionally save condition objects. $pop_task(): Pop task queue mark running. following methods used fetch tasks: $fetch_tasks(): Fetch tasks. $fetch_finished_tasks(): Fetch finished tasks. $fetch_failed_tasks(): Fetch failed tasks. $fetch_tasks_with_state(): Fetch tasks different states . $fetch_new_tasks(): Fetch new tasks optionally block new tasks available. methods return data.table() tasks. Tasks following fields: xs: input task. ys: output task. xs_extra: Metadata created creating task. ys_extra: Metadata created finishing task. condition: Condition object task failed. worker_id: id worker created task.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"workers","dir":"Reference","previous_headings":"","what":"Workers","title":"Rush Manager — Rush","text":"Workers spawned $start_workers() method mirai daemons. Use mirai::daemons() start daemons. Workers can started local machine, remote machine HPC cluster using mirai package. Alternatively, workers can started locally $start_local_workers() method via processx package. help script can generated $worker_script() method can run anywhere. requirement worker can connect Redis database.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"worker-loop","dir":"Reference","previous_headings":"","what":"Worker Loop","title":"Rush Manager — Rush","text":"worker loop main function run workers. defined user passed $start_workers() method.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"debugging","dir":"Reference","previous_headings":"","what":"Debugging","title":"Rush Manager — Rush","text":"mirai::mirai objects started $start_workers() stored $processes_mirai. Standard output error workers ca written log files message_log output_log arguments $start_workers().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Rush Manager — Rush","text":"processes_processx (processx::process) List processes started $start_local_workers(). processes_mirai (mirai::mirai) List mirai processes started $start_remote_workers().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Rush Manager — Rush","text":"network_id (character(1)) Identifier rush network. config (redux::redis_config) Redis configuration options. connector (redux::redis_api) Returns connection Redis. n_workers (integer(1)) Number workers. n_running_workers (integer(1)) Number running workers. n_terminated_workers (integer(1)) Number terminated workers. worker_ids (character()) Ids workers. running_worker_ids (character()) Ids running workers. terminated_worker_ids (character()) Ids terminated workers. tasks (character()) Keys tasks. queued_tasks (character()) Keys queued tasks. running_tasks (character()) Keys running tasks. finished_tasks (character()) Keys finished tasks. failed_tasks (character()) Keys failed tasks. n_queued_tasks (integer(1)) Number queued tasks. n_running_tasks (integer(1)) Number running tasks. n_finished_tasks (integer(1)) Number finished tasks. n_failed_tasks (integer(1)) Number failed tasks. n_tasks (integer(1)) Number tasks. worker_info (data.table::data.table()) Contains information workers.","code":""},{"path":[]},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Rush Manager — Rush","text":"Rush$new() Rush$format() Rush$print() Rush$reconnect() Rush$start_workers() Rush$start_local_workers() Rush$start_remote_workers() Rush$worker_script() Rush$wait_for_workers() Rush$stop_workers() Rush$detect_lost_workers() Rush$reset() Rush$read_log() Rush$print_log() Rush$pop_task() Rush$finish_tasks() Rush$fail_tasks() Rush$push_tasks() Rush$push_running_tasks() Rush$push_finished_tasks() Rush$push_failed_tasks() Rush$empty_queue() Rush$fetch_tasks() Rush$fetch_queued_tasks() Rush$fetch_running_tasks() Rush$fetch_failed_tasks() Rush$fetch_finished_tasks() Rush$fetch_tasks_with_state() Rush$fetch_new_tasks() Rush$reset_cache() Rush$wait_for_tasks() Rush$write_hashes() Rush$read_hashes() Rush$read_hash() Rush$is_running_task() Rush$is_failed_task() Rush$tasks_with_state() Rush$push_results() Rush$push_failed() Rush$clone()","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Rush Manager — Rush","text":"Creates new instance R6 class.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$new(network_id = NULL, config = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"network_id (character(1)) Identifier rush network. Manager workers must id. Keys Redis prefixed instance id. config (redux::redis_config) Redis configuration options. NULL, configuration set rush_plan() used. rush_plan() called, REDIS_URL environment variable parsed. REDIS_URL set, default configuration used. See redux::redis_config details.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-format-","dir":"Reference","previous_headings":"","what":"Method format()","title":"Rush Manager — Rush","text":"Helper print outputs.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$format(...)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"... (ignored).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Rush Manager — Rush","text":"Print method.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$print()"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-reconnect-","dir":"Reference","previous_headings":"","what":"Method reconnect()","title":"Rush Manager — Rush","text":"Reconnect Redis. connection breaks Rush object saved disk. Call method reconnect loading object.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$reconnect()"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-start-workers-","dir":"Reference","previous_headings":"","what":"Method start_workers()","title":"Rush Manager — Rush","text":"Start workers run worker loop mirai::daemons(). Initializes RushWorker process starts worker loop.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$start_workers(   worker_loop,   ...,   n_workers = NULL,   packages = NULL,   lgr_thresholds = NULL,   lgr_buffer_size = NULL,   message_log = NULL,   output_log = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"worker_loop (function) Loop run workers. ... () Arguments passed worker_loop. n_workers (integer(1)) Number workers started. packages (character()) Packages loaded workers. lgr_thresholds (named character() | named numeric()) Logger threshold workers e.g. c(\"mlr3/rush\" = \"debug\"). lgr_buffer_size (integer(1)) default (lgr_buffer_size = 0), log messages directly saved Redis data store. lgr_buffer_size > 0, log messages buffered saved Redis data store buffer full. improves performance logging. message_log (character(1)) Path message log files e.g. /tmp/message_logs/ message log files named message_<worker_id>.log. NULL, messages, warnings errors stored. output_log (character(1)) Path output log files e.g. /tmp/output_logs/ output log files named output_<worker_id>.log. NULL, output stored.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-start-local-workers-","dir":"Reference","previous_headings":"","what":"Method start_local_workers()","title":"Rush Manager — Rush","text":"Start workers locally processx. Initializes RushWorker process starts worker loop. Use $wait_for_workers() wait workers registered network.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$start_local_workers(   worker_loop,   ...,   n_workers = NULL,   packages = NULL,   lgr_thresholds = NULL,   lgr_buffer_size = NULL,   supervise = TRUE,   message_log = NULL,   output_log = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"worker_loop (function) Loop run workers. ... () Arguments passed worker_loop. n_workers (integer(1)) Number workers started. packages (character()) Packages loaded workers. lgr_thresholds (named character() | named numeric()) Logger threshold workers e.g. c(\"mlr3/rush\" = \"debug\"). lgr_buffer_size (integer(1)) default (lgr_buffer_size = 0), log messages directly saved Redis data store. lgr_buffer_size > 0, log messages buffered saved Redis data store buffer full. improves performance logging. supervise (logical(1)) Whether kill workers main R process shut . message_log (character(1)) Path message log files e.g. /tmp/message_logs/ message log files named message_<worker_id>.log. NULL, messages, warnings errors stored. output_log (character(1)) Path output log files e.g. /tmp/output_logs/ output log files named output_<worker_id>.log. NULL, output stored.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-start-remote-workers-","dir":"Reference","previous_headings":"","what":"Method start_remote_workers()","title":"Rush Manager — Rush","text":"Start workers run worker loop mirai::daemons(). Initializes RushWorker process starts worker loop.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$start_remote_workers(   worker_loop,   ...,   n_workers = NULL,   packages = NULL,   lgr_thresholds = NULL,   lgr_buffer_size = NULL,   message_log = NULL,   output_log = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"worker_loop (function) Loop run workers. ... () Arguments passed worker_loop. n_workers (integer(1)) Number workers started. packages (character()) Packages loaded workers. lgr_thresholds (named character() | named numeric()) Logger threshold workers e.g. c(\"mlr3/rush\" = \"debug\"). lgr_buffer_size (integer(1)) default (lgr_buffer_size = 0), log messages directly saved Redis data store. lgr_buffer_size > 0, log messages buffered saved Redis data store buffer full. improves performance logging. message_log (character(1)) Path message log files e.g. /tmp/message_logs/ message log files named message_<worker_id>.log. NULL, messages, warnings errors stored. output_log (character(1)) Path output log files e.g. /tmp/output_logs/ output log files named output_<worker_id>.log. NULL, output stored.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-worker-script-","dir":"Reference","previous_headings":"","what":"Method worker_script()","title":"Rush Manager — Rush","text":"Generate script start workers. Run script n times start n workers.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$worker_script(   worker_loop,   ...,   packages = NULL,   lgr_thresholds = NULL,   lgr_buffer_size = NULL,   heartbeat_period = NULL,   heartbeat_expire = NULL,   message_log = NULL,   output_log = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"worker_loop (function) Loop run workers. ... () Arguments passed worker_loop. packages (character()) Packages loaded workers. lgr_thresholds (named character() | named numeric()) Logger threshold workers e.g. c(\"mlr3/rush\" = \"debug\"). lgr_buffer_size (integer(1)) default (lgr_buffer_size = 0), log messages directly saved Redis data store. lgr_buffer_size > 0, log messages buffered saved Redis data store buffer full. improves performance logging. heartbeat_period (integer(1)) Period heartbeat seconds. heartbeat updated every heartbeat_period seconds. heartbeat_expire (integer(1)) Time live heartbeat seconds. heartbeat key set expire heartbeat_expire seconds. message_log (character(1)) Path message log files e.g. /tmp/message_logs/ message log files named message_<worker_id>.log. NULL, messages, warnings errors stored. output_log (character(1)) Path output log files e.g. /tmp/output_logs/ output log files named output_<worker_id>.log. NULL, output stored.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-wait-for-workers-","dir":"Reference","previous_headings":"","what":"Method wait_for_workers()","title":"Rush Manager — Rush","text":"Wait workers registered network. Either n, worker_ids must provided.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$wait_for_workers(n = NULL, worker_ids = NULL, timeout = Inf)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"n (integer(1)) Number workers wait . NULL, wait workers worker_ids. worker_ids (character()) Worker ids wait . NULL, wait n workers registered. timeout (numeric(1)) Timeout seconds. Default Inf.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-stop-workers-","dir":"Reference","previous_headings":"","what":"Method stop_workers()","title":"Rush Manager — Rush","text":"Stop workers.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$stop_workers(type = \"kill\", worker_ids = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"type (character(1)) Type stopping. Either \"terminate\" \"kill\". \"kill\" workers stopped immediately. \"terminate\" workers evaluate currently running task terminate. \"terminate\" option must implemented worker loop. worker_ids (character()) Worker ids stopped. NULL workers stopped.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-detect-lost-workers-","dir":"Reference","previous_headings":"","what":"Method detect_lost_workers()","title":"Rush Manager — Rush","text":"Detect lost workers. state worker changed \"terminated\".","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$detect_lost_workers()"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()) Worker ids detected lost workers.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-reset-","dir":"Reference","previous_headings":"","what":"Method reset()","title":"Rush Manager — Rush","text":"Stop workers delete data stored redis.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$reset(workers = TRUE)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"workers (logical(1)) Whether stop workers delete data. Default TRUE.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-read-log-","dir":"Reference","previous_headings":"","what":"Method read_log()","title":"Rush Manager — Rush","text":"Read log messages written lgr package workers.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$read_log(worker_ids = NULL, time_difference = FALSE)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"worker_ids (character()) Worker ids read log messages . Defaults worker ids. time_difference (logical(1)) Whether calculate time difference log messages.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table level, timestamp, logger, caller message, optionally time difference.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-print-log-","dir":"Reference","previous_headings":"","what":"Method print_log()","title":"Rush Manager — Rush","text":"Print log messages written lgr package workers. Log messages printed original logger.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$print_log()"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-pop-task-","dir":"Reference","previous_headings":"","what":"Method pop_task()","title":"Rush Manager — Rush","text":"Pop task queue mark running.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$pop_task(timeout = 1, fields = \"xs\")"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"timeout (numeric(1)) Time wait task seconds. fields (character()) Fields returned.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-finish-tasks-","dir":"Reference","previous_headings":"","what":"Method finish_tasks()","title":"Rush Manager — Rush","text":"Save output tasks mark finished.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$finish_tasks(keys, yss, extra = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-11","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character(1)) Keys associated tasks. yss (named list()) List lists named results. extra (named list()) List lists additional information stored along results.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fail-tasks-","dir":"Reference","previous_headings":"","what":"Method fail_tasks()","title":"Rush Manager — Rush","text":"Mark tasks failed optionally save condition objects","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fail_tasks(keys, conditions = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-12","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys tasks moved. Defaults queued tasks. conditions (named list()) List lists conditions. Defaults list(message = \"Failed\").","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-push-tasks-","dir":"Reference","previous_headings":"","what":"Method push_tasks()","title":"Rush Manager — Rush","text":"Create queued tasks add queue.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$push_tasks(xss, extra = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-13","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"xss (list named list()) Lists arguments function e.g. list(list(x1, x2), list(x1, x2))). extra (list()) List additional information stored along task e.g. list(list(timestamp), list(timestamp))).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()) Keys tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-push-running-tasks-","dir":"Reference","previous_headings":"","what":"Method push_running_tasks()","title":"Rush Manager — Rush","text":"Create running tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-18","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$push_running_tasks(xss, extra = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-14","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"xss (list named list()) Lists arguments function e.g. list(list(x1, x2), list(x1, x2))). extra (list) List additional information stored along task e.g. list(list(timestamp), list(timestamp))).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()) Keys tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-push-finished-tasks-","dir":"Reference","previous_headings":"","what":"Method push_finished_tasks()","title":"Rush Manager — Rush","text":"Create finished tasks. See $finish_tasks() moving existing tasks running finished.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-19","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$push_finished_tasks(xss, yss, xss_extra = NULL, yss_extra = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-15","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"xss (list named list()) Lists arguments function e.g. list(list(x1, x2), list(x1, x2))). yss (list named list()) Lists results function e.g. list(list(y1, y2), list(y1, y2))). xss_extra (list) List additional information stored along task e.g. list(list(timestamp), list(timestamp))). yss_extra (list) List additional information stored along results e.g. list(list(timestamp), list(timestamp))).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-9","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()) Keys tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-push-failed-tasks-","dir":"Reference","previous_headings":"","what":"Method push_failed_tasks()","title":"Rush Manager — Rush","text":"Create failed tasks. See $fail_tasks() moving existing tasks queued running failed.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-20","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$push_failed_tasks(xss, xss_extra = NULL, conditions)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-16","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"xss (list named list()) Lists arguments function e.g. list(list(x1, x2), list(x1, x2))). xss_extra (list) List additional information stored along task e.g. list(list(timestamp), list(timestamp))). conditions (named list()) List lists conditions.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-10","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()) Keys tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-empty-queue-","dir":"Reference","previous_headings":"","what":"Method empty_queue()","title":"Rush Manager — Rush","text":"Remove tasks queue. state tasks set failed.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-21","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$empty_queue(keys = NULL, conditions = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-17","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys tasks moved. Defaults queued tasks. conditions (named list()) List lists conditions.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-11","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-tasks-","dir":"Reference","previous_headings":"","what":"Method fetch_tasks()","title":"Rush Manager — Rush","text":"Fetch tasks data base.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-22","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_tasks(   fields = c(\"xs\", \"ys\", \"xs_extra\", \"worker_id\", \"ys_extra\", \"condition\") )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-18","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. Defaults c(\"xs\", \"xs_extra\", \"worker_id\", \"ys\", \"ys_extra\", \"condition\").","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-12","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-queued-tasks-","dir":"Reference","previous_headings":"","what":"Method fetch_queued_tasks()","title":"Rush Manager — Rush","text":"Fetch queued tasks data base.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-23","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_queued_tasks(fields = c(\"xs\", \"xs_extra\"))"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-19","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. Defaults c(\"xs\", \"xs_extra\").","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-13","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table queued tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-running-tasks-","dir":"Reference","previous_headings":"","what":"Method fetch_running_tasks()","title":"Rush Manager — Rush","text":"Fetch running tasks data base.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-24","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_running_tasks(fields = c(\"xs\", \"xs_extra\", \"worker_id\"))"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-20","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. Defaults c(\"xs\", \"xs_extra\", \"worker_id\").","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-14","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table running tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-failed-tasks-","dir":"Reference","previous_headings":"","what":"Method fetch_failed_tasks()","title":"Rush Manager — Rush","text":"Fetch failed tasks data base.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-25","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_failed_tasks(fields = c(\"xs\", \"xs_extra\", \"worker_id\", \"condition\"))"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-21","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. Defaults c(\"xs\", \"xs_extra\", \"worker_id\", \"condition\".","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-15","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table failed tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-finished-tasks-","dir":"Reference","previous_headings":"","what":"Method fetch_finished_tasks()","title":"Rush Manager — Rush","text":"Fetch finished tasks data base. Finished tasks cached.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-26","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_finished_tasks(   fields = c(\"worker_id\", \"xs\", \"ys\", \"xs_extra\", \"ys_extra\", \"condition\") )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-22","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. Defaults c(\"xs\", \"xs_extra\", \"worker_id\", \"ys\", \"ys_extra\").","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-16","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table finished tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-tasks-with-state-","dir":"Reference","previous_headings":"","what":"Method fetch_tasks_with_state()","title":"Rush Manager — Rush","text":"Fetch tasks different states data base. tasks different states queried time, function prevents tasks appearing twice. case worker changes state task tasks fetched. Finished tasks cached.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-27","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_tasks_with_state(   fields = c(\"worker_id\", \"xs\", \"ys\", \"xs_extra\", \"ys_extra\", \"condition\"),   states = c(\"queued\", \"running\", \"finished\", \"failed\") )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-23","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. Defaults c(\"worker_id\", \"xs\", \"ys\", \"xs_extra\", \"ys_extra\", \"condition\"). states (character()) States tasks fetched. Defaults c(\"queued\", \"running\", \"finished\", \"failed\").","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-fetch-new-tasks-","dir":"Reference","previous_headings":"","what":"Method fetch_new_tasks()","title":"Rush Manager — Rush","text":"Fetch new tasks finished last call function. Updates cache finished tasks. timeout set, blocks new tasks available timeout reached.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-28","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$fetch_new_tasks(   fields = c(\"xs\", \"ys\", \"xs_extra\", \"worker_id\", \"ys_extra\", \"condition\"),   timeout = 0 )"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-24","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"fields (character()) Fields read hashes. timeout (numeric(1)) Time wait new results seconds. Defaults 0 (waiting).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-17","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"data.table() Table latest results.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-reset-cache-","dir":"Reference","previous_headings":"","what":"Method reset_cache()","title":"Rush Manager — Rush","text":"Reset cache finished tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-29","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$reset_cache()"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-18","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-wait-for-tasks-","dir":"Reference","previous_headings":"","what":"Method wait_for_tasks()","title":"Rush Manager — Rush","text":"Wait tasks finished. function also unblocks worker running tasks failed.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-30","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$wait_for_tasks(keys, detect_lost_workers = FALSE)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-25","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys tasks wait . detect_lost_workers (logical(1)) Whether detect failed tasks. Comes overhead.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-write-hashes-","dir":"Reference","previous_headings":"","what":"Method write_hashes()","title":"Rush Manager — Rush","text":"Writes R objects Redis hashes. function takes vectors ... input writes element field-value pair new hash. name argument defines field serialized element written. example, xs = list(list(x1 = 1, x2 = 2), list(x1 = 3, x2 = 4)) writes serialize(list(x1 = 1, x2 = 2)) field xs hash serialize(list(x1 = 3, x2 = 4)) field xs another hash. function can iterate multiple vectors simultaneously. example, xs = list(list(x1 = 1, x2 = 2), list(x1 = 3, x2 = 4)), ys = list(list(y = 3), list(y = 7)) creates two hashes fields xs ys. vectors recycled length longest vector. lists atomic vectors supported. Arguments NULL ignored.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-31","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$write_hashes(..., .values = list(), keys = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-26","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"... (named list()) Lists written hashes. names arguments used fields. .values (named list()) Lists written hashes. names list used fields. keys (character()) Keys hashes. NULL new keys generated.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-19","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(character()) Keys hashes.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-read-hashes-","dir":"Reference","previous_headings":"","what":"Method read_hashes()","title":"Rush Manager — Rush","text":"Reads R Objects Redis hashes. function reads field-value pairs hashes stored keys. values hash deserialized combined list. flatten TRUE, values flattened single list e.g. list(xs = list(x1 = 1, x2 = 2), ys = list(y = 3)) becomes list(x1 = 1, x2 = 2, y = 3). reading functions combine hashes table names inner lists column names. example, xs = list(list(x1 = 1, x2 = 2), list(x1 = 3, x2 = 4)), ys = list(list(y = 3), list(y = 7)) becomes data.table(x1 = c(1, 3), x2 = c(2, 4), y = c(3, 7)).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-32","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$read_hashes(keys, fields, flatten = TRUE)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-27","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys hashes. fields (character()) Fields read hashes. flatten (logical(1)) Whether flatten list.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-20","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(list list()) outer list contains one element key. inner list combination lists stored different fields.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-read-hash-","dir":"Reference","previous_headings":"","what":"Method read_hash()","title":"Rush Manager — Rush","text":"Reads single Redis hash returns values list named fields.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-33","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$read_hash(key, fields)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-28","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"key (character(1)) Key hash. fields (character()) Fields read hash.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-21","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(list list()) outer list contains one element key. inner list combination lists stored different fields.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-is-running-task-","dir":"Reference","previous_headings":"","what":"Method is_running_task()","title":"Rush Manager — Rush","text":"Checks whether tasks status \"running\".","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-34","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$is_running_task(keys)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-29","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-is-failed-task-","dir":"Reference","previous_headings":"","what":"Method is_failed_task()","title":"Rush Manager — Rush","text":"Checks whether tasks status \"failed\".","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-35","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$is_failed_task(keys)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-30","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-tasks-with-state-","dir":"Reference","previous_headings":"","what":"Method tasks_with_state()","title":"Rush Manager — Rush","text":"Returns keys requested states.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-36","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$tasks_with_state(states)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-31","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"states (character()) States tasks.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-22","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Named list character()).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-push-results-","dir":"Reference","previous_headings":"","what":"Method push_results()","title":"Rush Manager — Rush","text":"Deprecated method. Use $finish_tasks() instead.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-37","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$push_results(keys, yss, extra = NULL)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-32","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys associated tasks. yss (named list()) List lists named results. extra (named list()) List lists additional information stored along results.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-23","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-push-failed-","dir":"Reference","previous_headings":"","what":"Method push_failed()","title":"Rush Manager — Rush","text":"Deprecated method. Use $fail_tasks() instead.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-38","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$push_failed(keys, conditions)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-33","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"keys (character()) Keys associated tasks. conditions (list()) List conditions.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"returns-24","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Manager — Rush","text":"(Rush) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Rush Manager — Rush","text":"objects class cloneable method.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"usage-39","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Manager — Rush","text":"","code":"Rush$clone(deep = FALSE)"},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"arguments-34","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Manager — Rush","text":"deep Whether make deep clone.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/Rush.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rush Manager — Rush","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{ config_local = redux::redis_config() rush = rsh(network_id = \"test_network\", config = config_local) rush #>  #> ── <Rush> ────────────────────────────────────────────────────────────────────── #> • Running Workers: 0 #> • Queued Tasks: 0 #> • Running Tasks: 0 #> • Finished Tasks: 0 #> • Failed Tasks: 0 # }"},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":null,"dir":"Reference","previous_headings":"","what":"Rush Worker — RushWorker","title":"Rush Worker — RushWorker","text":"RushWorker inherits methods Rush. Upon initialization, worker registers Redis database.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rush Worker — RushWorker","text":"Object class R6::R6Class RushWorker worker methods.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Rush Worker — RushWorker","text":"rush::Rush -> RushWorker","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Rush Worker — RushWorker","text":"worker_id (character(1)) Identifier worker. heartbeat (callr::r_bg) Background process heartbeat.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Rush Worker — RushWorker","text":"terminated (logical(1)) Whether shutdown worker. Used worker loop determine whether continue.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Rush Worker — RushWorker","text":"rush::Rush$detect_lost_workers() rush::Rush$empty_queue() rush::Rush$fail_tasks() rush::Rush$fetch_failed_tasks() rush::Rush$fetch_finished_tasks() rush::Rush$fetch_new_tasks() rush::Rush$fetch_queued_tasks() rush::Rush$fetch_running_tasks() rush::Rush$fetch_tasks() rush::Rush$fetch_tasks_with_state() rush::Rush$finish_tasks() rush::Rush$format() rush::Rush$is_failed_task() rush::Rush$is_running_task() rush::Rush$pop_task() rush::Rush$print() rush::Rush$print_log() rush::Rush$push_failed() rush::Rush$push_failed_tasks() rush::Rush$push_finished_tasks() rush::Rush$push_results() rush::Rush$push_running_tasks() rush::Rush$push_tasks() rush::Rush$read_hash() rush::Rush$read_hashes() rush::Rush$read_log() rush::Rush$reconnect() rush::Rush$reset() rush::Rush$reset_cache() rush::Rush$start_local_workers() rush::Rush$start_remote_workers() rush::Rush$start_workers() rush::Rush$stop_workers() rush::Rush$tasks_with_state() rush::Rush$wait_for_tasks() rush::Rush$wait_for_workers() rush::Rush$worker_script() rush::Rush$write_hashes()","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Rush Worker — RushWorker","text":"RushWorker$new() RushWorker$set_terminated() RushWorker$clone()","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Rush Worker — RushWorker","text":"Creates new instance R6 class.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Worker — RushWorker","text":"","code":"RushWorker$new(   network_id,   config = NULL,   worker_id = NULL,   heartbeat_period = NULL,   heartbeat_expire = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Worker — RushWorker","text":"network_id (character(1)) Identifier rush network. Manager workers must id. Keys Redis prefixed instance id. config (redux::redis_config) Redis configuration options. NULL, configuration set rush_plan() used. rush_plan() called, REDIS_URL environment variable parsed. REDIS_URL set, default configuration used. See redux::redis_config details. worker_id (character(1)) Identifier worker. Keys redis specific worker prefixed worker id. heartbeat_period (integer(1)) Period heartbeat seconds. heartbeat updated every heartbeat_period seconds. heartbeat_expire (integer(1)) Time live heartbeat seconds. heartbeat key set expire heartbeat_expire seconds.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"method-set-terminated-","dir":"Reference","previous_headings":"","what":"Method set_terminated()","title":"Rush Worker — RushWorker","text":"Mark worker terminated. Last step worker loop worker terminates.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Worker — RushWorker","text":"","code":"RushWorker$set_terminated()"},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Rush Worker — RushWorker","text":"(RushWorker) Invisible self.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Rush Worker — RushWorker","text":"objects class cloneable method.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Worker — RushWorker","text":"","code":"RushWorker$clone(deep = FALSE)"},{"path":"https://rush.mlr-org.com/dev/reference/RushWorker.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rush Worker — RushWorker","text":"deep Whether make deep clone.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/filter_custom_fields.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter Custom Fields — filter_custom_fields","title":"Filter Custom Fields — filter_custom_fields","text":"Filters custom fields log events.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/filter_custom_fields.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter Custom Fields — filter_custom_fields","text":"","code":"filter_custom_fields(event)"},{"path":"https://rush.mlr-org.com/dev/reference/filter_custom_fields.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter Custom Fields — filter_custom_fields","text":"event (lgr::LogEvent) Log event.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/get_hostname.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the computer name of the current host — get_hostname","title":"Get the computer name of the current host — get_hostname","text":"Returns computer name current host. First tries get computer name environment variables HOST, HOSTNAME COMPUTERNAME. fails tries get computer name function Sys.info(). Finally, fails queries computer name command uname -n. Copied R.utils package.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/get_hostname.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the computer name of the current host — get_hostname","text":"","code":"get_hostname()"},{"path":"https://rush.mlr-org.com/dev/reference/get_hostname.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the computer name of the current host — get_hostname","text":"character(1) hostname.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/get_hostname.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the computer name of the current host — get_hostname","text":"","code":"get_hostname() #>        nodename  #> \"runnervmjduv7\""},{"path":"https://rush.mlr-org.com/dev/reference/heartbeat.html","id":null,"dir":"Reference","previous_headings":"","what":"Heartbeat Loop — heartbeat","title":"Heartbeat Loop — heartbeat","text":"heartbeat loop updates heartbeat key worker still alive. kill key set, worker killed. function called callr session.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/heartbeat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Heartbeat Loop — heartbeat","text":"","code":"heartbeat(   network_id,   config,   worker_id,   heartbeat_key,   heartbeat_period,   heartbeat_expire,   pid )"},{"path":"https://rush.mlr-org.com/dev/reference/heartbeat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Heartbeat Loop — heartbeat","text":"network_id (character(1)) Identifier rush network. Manager workers must id. Keys Redis prefixed instance id. config (redux::redis_config) Redis configuration options. worker_id (character(1)) Identifier worker. Keys redis specific worker prefixed worker id. heartbeat_key (character(1)) Heartbeat key. heartbeat_period (integer(1)) Period heartbeat seconds. heartbeat updated every heartbeat_period seconds. heartbeat_expire (integer(1)) Time live heartbeat seconds. heartbeat key set expire heartbeat_expire seconds. pid (integer(1)) Process ID worker.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/heartbeat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Heartbeat Loop — heartbeat","text":"NULL","code":""},{"path":"https://rush.mlr-org.com/dev/reference/remove_rush_plan.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove Rush Plan — remove_rush_plan","title":"Remove Rush Plan — remove_rush_plan","text":"Removes rush plan set rush_plan().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/remove_rush_plan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove Rush Plan — remove_rush_plan","text":"","code":"remove_rush_plan()"},{"path":"https://rush.mlr-org.com/dev/reference/remove_rush_plan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove Rush Plan — remove_rush_plan","text":"Invisible TRUE. Function called side effects.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/remove_rush_plan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove Rush Plan — remove_rush_plan","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{   config_local = redux::redis_config()   rush_plan(config = config_local, n_workers = 2)   remove_rush_plan() # }"},{"path":"https://rush.mlr-org.com/dev/reference/rsh.html","id":null,"dir":"Reference","previous_headings":"","what":"Synctatic Sugar for Rush Manager Construction — rsh","title":"Synctatic Sugar for Rush Manager Construction — rsh","text":"Function construct Rush manager.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rsh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Synctatic Sugar for Rush Manager Construction — rsh","text":"","code":"rsh(network_id = NULL, config = NULL, ...)"},{"path":"https://rush.mlr-org.com/dev/reference/rsh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Synctatic Sugar for Rush Manager Construction — rsh","text":"network_id (character(1)) Identifier rush network. Manager workers must id. Keys Redis prefixed instance id. config (redux::redis_config) Redis configuration options. NULL, configuration set rush_plan() used. rush_plan() called, REDIS_URL environment variable parsed. REDIS_URL set, default configuration used. See redux::redis_config details. ... (ignored).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rsh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Synctatic Sugar for Rush Manager Construction — rsh","text":"Rush manager.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rsh.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Synctatic Sugar for Rush Manager Construction — rsh","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{    config_local = redux::redis_config()    rush = rsh(network_id = \"test_network\", config = config_local)    rush #>  #> ── <Rush> ────────────────────────────────────────────────────────────────────── #> • Running Workers: 0 #> • Queued Tasks: 0 #> • Running Tasks: 0 #> • Finished Tasks: 0 #> • Failed Tasks: 0 # }"},{"path":"https://rush.mlr-org.com/dev/reference/rush-package.html","id":null,"dir":"Reference","previous_headings":"","what":"rush: Rapid Asynchronous and Distributed Computing — rush-package","title":"rush: Rapid Asynchronous and Distributed Computing — rush-package","text":"Package tackle large-scale problems asynchronously across distributed network. Employing database centric model, rush enables workers communicate tasks results shared 'Redis' database. Key features include low task overhead, efficient caching, robust error handling. package powers asynchronous optimization algorithms 'bbotk' 'mlr3tuning' packages.","code":""},{"path":[]},{"path":"https://rush.mlr-org.com/dev/reference/rush-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"rush: Rapid Asynchronous and Distributed Computing — rush-package","text":"Maintainer: Marc Becker marcbecker@posteo.de (ORCID) [copyright holder]","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_assertions.html","id":null,"dir":"Reference","previous_headings":"","what":"Assertion for Rush Objects — rush_assertions","title":"Assertion for Rush Objects — rush_assertions","text":"assertion functions ensure right class attribute, optionally additional properties. assertion fails, exception raised. Otherwise, input object returned invisibly.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_assertions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assertion for Rush Objects — rush_assertions","text":"","code":"assert_rush(rush, null_ok = FALSE)  assert_rushs(rushs, null_ok = FALSE)  assert_rush_worker(worker, null_ok = FALSE)  assert_rush_workers(workers, null_ok = FALSE)"},{"path":"https://rush.mlr-org.com/dev/reference/rush_assertions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assertion for Rush Objects — rush_assertions","text":"rush (Rush). null_ok (logical(1)). TRUE, NULL allowed. rushs (list Rush). worker (RushWorker). workers (list RushWorker).","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_assertions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assertion for Rush Objects — rush_assertions","text":"Exception assertion fails, otherwise input object invisibly.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_assertions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assertion for Rush Objects — rush_assertions","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{    config_local = redux::redis_config()    rush = rsh(network_id = \"test_network\", config = config_local)     assert_rush(rush) # }"},{"path":"https://rush.mlr-org.com/dev/reference/rush_available.html","id":null,"dir":"Reference","previous_headings":"","what":"Rush Available — rush_available","title":"Rush Available — rush_available","text":"Returns TRUE redis config file (redux::redis_config) set rush_plan().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_available.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rush Available — rush_available","text":"","code":"rush_available()"},{"path":"https://rush.mlr-org.com/dev/reference/rush_available.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rush Available — rush_available","text":"logical(1)","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_available.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rush Available — rush_available","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{   config_local = redux::redis_config()   rush_plan(config = config_local, n_workers = 2)   rush_available() #> [1] TRUE # }"},{"path":"https://rush.mlr-org.com/dev/reference/rush_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Rush Config — rush_config","title":"Get Rush Config — rush_config","text":"Returns rush config set rush_plan().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Rush Config — rush_config","text":"","code":"rush_config()"},{"path":"https://rush.mlr-org.com/dev/reference/rush_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Rush Config — rush_config","text":"list() stored configuration.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Rush Config — rush_config","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{   config_local = redux::redis_config()   rush_plan(config = config_local, n_workers = 2)   rush_config() #> $config #> Redis configuration: #>   - url: redis://127.0.0.1:6379 #>   - scheme: redis #>   - host: 127.0.0.1 #>   - port: 6379 #>   - path:  #>   - password:  #>   - db:  #>   - timeout:  #>  #> $n_workers #> [1] 2 #>  #> $lgr_thresholds #> NULL #>  #> $lgr_buffer_size #> NULL #>  #> $large_objects_path #> NULL #>  #> $start_worker_timeout #> NULL #>  #> $worker_type #> [1] \"mirai\" #>  # }"},{"path":"https://rush.mlr-org.com/dev/reference/rush_plan.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Rush Plan — rush_plan","title":"Create Rush Plan — rush_plan","text":"Stores number workers Redis configuration options (redux::redis_config) Rush. function tests connection Redis throws error connection fails. function usually used third-party packages setup workers started.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_plan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Rush Plan — rush_plan","text":"","code":"rush_plan(   n_workers = NULL,   config = NULL,   lgr_thresholds = NULL,   lgr_buffer_size = NULL,   large_objects_path = NULL,   worker_type = \"mirai\" )"},{"path":"https://rush.mlr-org.com/dev/reference/rush_plan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Rush Plan — rush_plan","text":"n_workers (integer(1)) Number workers started. config (redux::redis_config) Configuration options used connect Redis. NULL, REDIS_URL environment variable parsed. REDIS_URL set, default configuration used. See redux::redis_config details. lgr_thresholds (named character() | named numeric()) Logger threshold workers e.g. c(\"mlr3/rush\" = \"debug\"). lgr_buffer_size (integer(1)) default (lgr_buffer_size = 0), log messages directly saved Redis data store. lgr_buffer_size > 0, log messages buffered saved Redis data store buffer full. improves performance logging. large_objects_path (character(1)) path directory large objects stored. worker_type (character(1)) type worker use. Options \"mirai\" start mirai, \"processx\" use processx \"script\" get script run.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_plan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Rush Plan — rush_plan","text":"list() stored configuration.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/rush_plan.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Rush Plan — rush_plan","text":"","code":"# This example is not executed since Redis must be installed # \\donttest{ config_local = redux::redis_config() rush_plan(config = config_local, n_workers = 2)  rush = rsh(network_id = \"test_network\") rush #>  #> ── <Rush> ────────────────────────────────────────────────────────────────────── #> • Running Workers: 0 #> • Queued Tasks: 0 #> • Running Tasks: 0 #> • Finished Tasks: 0 #> • Failed Tasks: 0 # }"},{"path":"https://rush.mlr-org.com/dev/reference/start_worker.html","id":null,"dir":"Reference","previous_headings":"","what":"Start a worker — start_worker","title":"Start a worker — start_worker","text":"Starts worker. function loads packages, initializes RushWorker instance invokes worker loop. function called $start_local_workers() user creating worker script $create_worker_script().","code":""},{"path":"https://rush.mlr-org.com/dev/reference/start_worker.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Start a worker — start_worker","text":"","code":"start_worker(   worker_id = NULL,   network_id,   config = NULL,   lgr_thresholds = NULL,   lgr_buffer_size = 0,   heartbeat_period = NULL,   heartbeat_expire = NULL,   message_log = NULL,   output_log = NULL )"},{"path":"https://rush.mlr-org.com/dev/reference/start_worker.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Start a worker — start_worker","text":"worker_id (character(1)) Identifier worker. Keys redis specific worker prefixed worker id. network_id (character(1)) Identifier rush network. Manager workers must id. Keys Redis prefixed instance id. config (list()) Configuration Redis connection. lgr_thresholds (named character() | named numeric()) Logger threshold workers e.g. c(\"mlr3/rush\" = \"debug\"). lgr_buffer_size (integer(1)) default (lgr_buffer_size = 0), log messages directly saved Redis data store. lgr_buffer_size > 0, log messages buffered saved Redis data store buffer full. improves performance logging. heartbeat_period (integer(1)) Period heartbeat seconds. heartbeat updated every heartbeat_period seconds. heartbeat_expire (integer(1)) Time live heartbeat seconds. heartbeat key set expire heartbeat_expire seconds. message_log (character(1)) Path message log files e.g. /tmp/message_logs/ message log files named message_<worker_id>.log. NULL, messages, warnings errors stored. output_log (character(1)) Path output log files e.g. /tmp/output_logs/ output log files named output_<worker_id>.log. NULL, output stored.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/start_worker.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Start a worker — start_worker","text":"NULL","code":""},{"path":"https://rush.mlr-org.com/dev/reference/start_worker.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Start a worker — start_worker","text":"function initializes connection Redis data base. loads packages required worker loop. function initialize RushWorker instance starts worker loop.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/start_worker.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Start a worker — start_worker","text":"","code":"# This example is not executed since Redis must be installed if (FALSE) { # \\dontrun{   rush::start_worker(    network_id = 'test-rush',    url = 'redis://127.0.0.1:6379',    scheme = 'redis',    host = '127.0.0.1',    port = '6379') } # }"},{"path":"https://rush.mlr-org.com/dev/reference/store_large_object.html","id":null,"dir":"Reference","previous_headings":"","what":"Store Large Objects — store_large_object","title":"Store Large Objects — store_large_object","text":"Store large objects disk return reference object.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/store_large_object.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Store Large Objects — store_large_object","text":"","code":"store_large_object(obj, path)"},{"path":"https://rush.mlr-org.com/dev/reference/store_large_object.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Store Large Objects — store_large_object","text":"obj () Object store. path (character(1)) Path store object.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/store_large_object.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Store Large Objects — store_large_object","text":"list() class \"rush_large_object\" name path stored object.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/store_large_object.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Store Large Objects — store_large_object","text":"","code":"obj = list(a = 1, b = 2) rush_large_object = store_large_object(obj, tempdir())"},{"path":"https://rush.mlr-org.com/dev/reference/warn_deprecated.html","id":null,"dir":"Reference","previous_headings":"","what":"Give a Warning about a Deprecated Function, Argument, or Active Binding — warn_deprecated","title":"Give a Warning about a Deprecated Function, Argument, or Active Binding — warn_deprecated","text":"Generates warning deprecated function, argument, active binding used accessed. warning given per session, deprecation warnings can suppressed setting option mlr3.warn_deprecated = FALSE. warning format \"deprecated removed future.\" Use deprecated_binding() helper function create active binding generates warning accessed.","code":""},{"path":"https://rush.mlr-org.com/dev/reference/warn_deprecated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Give a Warning about a Deprecated Function, Argument, or Active Binding — warn_deprecated","text":"","code":"warn_deprecated(what)"},{"path":"https://rush.mlr-org.com/dev/reference/warn_deprecated.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Give a Warning about a Deprecated Function, Argument, or Active Binding — warn_deprecated","text":"(character(1)) description deprecated entity. somewhat descriptive, e.g. \"Class$method()\" \"Argument 'foo' Class$method()\". used determine warning already given, unique deprecated entity.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-development-version","dir":"Changelog","previous_headings":"","what":"rush (development version)","title":"rush (development version)","text":"feat: Add $push_finished_tasks() method. feat: Combine $wait_for_new_tasks() $fetch_new_tasks() $fetch_new_tasks() timeout argument. refactor: $wait_for_finished_tasks() method removed. perf: Cache now data.table() instead list. data_format argument removed. refactor: Seed mechanism removed. Includes with_rng_state(), is_lecyer_cmrg_seed(), get_random_seed(), set_random_seed(), make_rng_seeds() helper functions. refactor: PID longer stored tasks $push_tasks() $push_running_tasks() methods. refactor: worker_extra field renamed worker_id. refactor: $push_results() renamed $finish_tasks(). fix: Heartbeat process moves worker terminated. refactor: $push_results() deprecated. Use $finish_tasks() instead. refactor: $push_failed() deprecated. Use $fail_tasks() instead. refactor: $terminated_on_idle removed. refactor: Removed $push_priority_tasks(), $n_queued_priority_tasks, $priority_info, $fetch_priority_tasks(). fix: Redis password supported now. refactor: Remove $restart_workers() method. refactor: Squashed \"terminated\", \"killed\" \"lost\" worker states \"terminated\". feat: Added push_failed_tasks() creating failed tasks. refactor: Remove reset_cache arguments favor $reset_cache() method. refactor: network_id, config connector now active bindings validation. refactor: Removed $snapshot_schedule() $redis_info() methods. refactor: Removed $all_workers_terminated all_workers_lost active bindings. refactor: Moved $worker_states $worker_info. feat: Add \"rush.max_object_size\" option limit size objects stored Redis. refactor: Renamed $start_remote_workers() $start_workers().","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-041","dir":"Changelog","previous_headings":"","what":"rush 0.4.1","title":"rush 0.4.1","text":"CRAN release: 2025-11-06 feat: $wait_for_workers() method can now wait specific number workers specific set worker ids. workers checked registration network now.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-040","dir":"Changelog","previous_headings":"","what":"rush 0.4.0","title":"rush 0.4.0","text":"CRAN release: 2025-10-08 feat: Add $empty_queue() method. fix: Queued tasks can moved failed now.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-031","dir":"Changelog","previous_headings":"","what":"rush 0.3.1","title":"rush 0.3.1","text":"CRAN release: 2025-09-16 feat: Change default n_workers.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-030","dir":"Changelog","previous_headings":"","what":"rush 0.3.0","title":"rush 0.3.0","text":"CRAN release: 2025-07-31 feat: Output message logs can written files now via message_log output_log arguments. compatibility: lgr 0.5.0 BREAKING CHANGE: mlr3 ecosystem base logger now named mlr3. mlr3/rush logger child mlr3 logger used logging messages rush package.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-020","dir":"Changelog","previous_headings":"","what":"rush 0.2.0","title":"rush 0.2.0","text":"CRAN release: 2025-05-30 feat: Worker can started mirai package now.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-012","dir":"Changelog","previous_headings":"","what":"rush 0.1.2","title":"rush 0.1.2","text":"CRAN release: 2024-11-06 feat: Add $reconnect() method.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-011","dir":"Changelog","previous_headings":"","what":"rush 0.1.1","title":"rush 0.1.1","text":"CRAN release: 2024-07-05 fix: Rush class exported. fix: R6 package imported.","code":""},{"path":"https://rush.mlr-org.com/dev/news/index.html","id":"rush-010","dir":"Changelog","previous_headings":"","what":"rush 0.1.0","title":"rush 0.1.0","text":"CRAN release: 2024-06-20 Initial CRAN submission.","code":""}]
